<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LING218</title>
  
  <subtitle>做最好的自己！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.ling218.cn/"/>
  <updated>2020-04-24T06:11:13.425Z</updated>
  <id>https://www.ling218.cn/</id>
  
  <author>
    <name>LING</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Next7.6主题美化篇</title>
    <link href="https://www.ling218.cn/archives/cd68432f.html"/>
    <id>https://www.ling218.cn/archives/cd68432f.html</id>
    <published>2020-04-24T06:11:13.425Z</published>
    <updated>2020-04-24T06:11:13.425Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Next-主题的安装"><a href="#Next-主题的安装" class="headerlink" title="Next 主题的安装"></a>Next 主题的安装</h2><p>Next主题安装和闪烁之狐一样，直接将克隆到博客文件夹即可，命令如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure><p>由于Next主题比较简洁，所以等待数秒即可安装完成。<br>由于Next主题一直在更新，所以此处加一个更新命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes&#x2F;next</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><p>安装完成后到根目录下的<code>_config.yml</code>在<code>theme：</code>后添加<code>next</code>即可。</p><h2 id="Next-主题的配置"><a href="#Next-主题的配置" class="headerlink" title="Next 主题的配置"></a>Next 主题的配置</h2><p>安装完成后还需要进一步配置主题</p><h2 id="根目录下-config-yml的配置"><a href="#根目录下-config-yml的配置" class="headerlink" title="根目录下_config.yml的配置"></a>根目录下<code>_config.yml</code>的配置</h2><h3 id="Site设置"><a href="#Site设置" class="headerlink" title="Site设置"></a>Site设置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Site</span></span><br><span class="line"><span class="selector-tag">title</span>: <span class="selector-tag">LinG218</span></span><br><span class="line"><span class="selector-tag">subtitle</span>: <span class="selector-tag">LinG218-Blog</span>!</span><br><span class="line"><span class="selector-tag">description</span>: 技术宅男！</span><br><span class="line"><span class="selector-tag">keywords</span>:</span><br><span class="line"><span class="selector-tag">author</span>: <span class="selector-tag">ling</span></span><br><span class="line"><span class="selector-tag">language</span>: <span class="selector-tag">zh-CN</span></span><br></pre></td></tr></table></figure><p><code>title:</code> 填写标题<br><code>subtitle:</code> 填写副标题<br><code>description:</code> 简介<br><code>keywords:</code> 关键词<br><code>author:</code> 作者，文章中显示的作者名称<br><code>language:</code> 设置语言，zh-CN是简体中文，en是英语，默认是英语</p><h3 id="URL栏设置"><a href="#URL栏设置" class="headerlink" title="URL栏设置"></a>URL栏设置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">URL</span></span><br><span class="line">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span><br><span class="line">url: https://Siriusq.github.io</span><br><span class="line">root: /</span><br><span class="line"><span class="selector-tag">permalink</span>: <span class="selector-pseudo">:title.html</span></span><br><span class="line"><span class="selector-tag">permalink_defaults</span>:</span><br></pre></td></tr></table></figure><p><code>url:</code>填写博客在Github的二级域名，如 <code>https://ling218.github.io</code></p><p><code>permalink:</code>是生成博客页面时的路径名，一般是<code>:title.html</code></p><h3 id="翻页设置"><a href="#翻页设置" class="headerlink" title="翻页设置"></a>翻页设置</h3><p>共有两处，用于控制每一页显示多少篇博文</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Home</span> <span class="selector-tag">page</span> <span class="selector-tag">setting</span></span><br><span class="line"># path: Root path for your blogs index page. (default = '')</span><br><span class="line"># per_page: Posts displayed per page. (0 = disable pagination)</span><br><span class="line"># <span class="selector-tag">order_by</span>: <span class="selector-tag">Posts</span> <span class="selector-tag">order</span>. (<span class="selector-tag">Order</span> <span class="selector-tag">by</span> <span class="selector-tag">date</span> <span class="selector-tag">descending</span> <span class="selector-tag">by</span> <span class="selector-tag">default</span>)</span><br><span class="line"><span class="selector-tag">index_generator</span>:</span><br><span class="line">  path: ''</span><br><span class="line">  <span class="selector-tag">per_page</span>: 12</span><br><span class="line">  <span class="selector-tag">order_by</span>: <span class="selector-tag">-date</span></span><br><span class="line"></span><br><span class="line"># <span class="selector-tag">Pagination</span></span><br><span class="line">## <span class="selector-tag">Set</span> <span class="selector-tag">per_page</span> <span class="selector-tag">to</span> 0 <span class="selector-tag">to</span> <span class="selector-tag">disable</span> <span class="selector-tag">pagination</span></span><br><span class="line"><span class="selector-tag">per_page</span>: 12</span><br><span class="line"><span class="selector-tag">pagination_dir</span>: <span class="selector-tag">page</span></span><br></pre></td></tr></table></figure><p><code>per_page:</code>后设置博文数量，0代表不翻页全部平铺显示</p><h3 id="Deployment设置"><a href="#Deployment设置" class="headerlink" title="Deployment设置"></a>Deployment设置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Deployment</span></span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line"><span class="selector-tag">deploy</span>:</span><br><span class="line">  <span class="selector-tag">type</span>: <span class="selector-tag">git</span></span><br><span class="line">  repo: git@github.com:username/username.github.io.git</span><br><span class="line">  <span class="selector-tag">branch</span>: <span class="selector-tag">master</span></span><br></pre></td></tr></table></figure><p><code>branch:</code>分支填写<code>master</code></p><p><code>repo:</code>后把<code>username</code>换成自己的用户名</p><h3 id="主题目录下-config-yml的配置"><a href="#主题目录下-config-yml的配置" class="headerlink" title="主题目录下_config.yml的配置"></a>主题目录下<code>_config.yml</code>的配置</h3><p><strong>文件中很多配置前面都带有<code>#</code>，删掉它就可以激活选项</strong></p><h3 id="网站Logo设置"><a href="#网站Logo设置" class="headerlink" title="网站Logo设置"></a>网站Logo设置</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">favicon</span>:</span><br><span class="line">  small: /images/favicon-16x16-next.png</span><br><span class="line">  medium: /images/favicon-32x32-next.png</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png</span><br><span class="line">  #safari_pinned_tab: /images/logo.svg</span><br><span class="line">  #android_manifest: /images/manifest.json</span><br><span class="line">  #ms_browserconfig: /images/browserconfig.xml</span><br></pre></td></tr></table></figure><p>把选好的图标放入<code>\themes\next\source\images</code>目录中并改成上面的文件名即可，注意图片尺寸</p><h3 id="页脚设置"><a href="#页脚设置" class="headerlink" title="页脚设置"></a>页脚设置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">footer</span>:</span><br><span class="line">  # <span class="selector-tag">Specify</span> <span class="selector-tag">the</span> <span class="selector-tag">date</span> <span class="selector-tag">when</span> <span class="selector-tag">the</span> <span class="selector-tag">site</span> <span class="selector-tag">was</span> <span class="selector-tag">setup</span>. <span class="selector-tag">If</span> <span class="selector-tag">not</span> <span class="selector-tag">defined</span>, <span class="selector-tag">current</span> <span class="selector-tag">year</span> <span class="selector-tag">will</span> <span class="selector-tag">be</span> <span class="selector-tag">used</span>.</span><br><span class="line">  <span class="selector-tag">since</span>: 2019</span><br><span class="line"></span><br><span class="line">  # <span class="selector-tag">Icon</span> <span class="selector-tag">between</span> <span class="selector-tag">year</span> <span class="selector-tag">and</span> <span class="selector-tag">copyright</span> <span class="selector-tag">info</span>.</span><br><span class="line">  <span class="selector-tag">icon</span>:</span><br><span class="line">    # Icon name in fontawesome, see: https://fontawesome.com/v4.7.0/icons/</span><br><span class="line">    # `<span class="selector-tag">heart</span>` <span class="selector-tag">is</span> <span class="selector-tag">recommended</span> <span class="selector-tag">with</span> <span class="selector-tag">animation</span> <span class="selector-tag">in</span> <span class="selector-tag">red</span> (<span class="selector-id">#ff0000</span>).</span><br><span class="line">    <span class="selector-tag">name</span>: <span class="selector-tag">heart</span></span><br><span class="line">    # <span class="selector-tag">If</span> <span class="selector-tag">you</span> <span class="selector-tag">want</span> <span class="selector-tag">to</span> <span class="selector-tag">animate</span> <span class="selector-tag">the</span> <span class="selector-tag">icon</span>, <span class="selector-tag">set</span> <span class="selector-tag">it</span> <span class="selector-tag">to</span> <span class="selector-tag">true</span>.</span><br><span class="line">    <span class="selector-tag">animated</span>: <span class="selector-tag">true</span></span><br><span class="line">    # <span class="selector-tag">Change</span> <span class="selector-tag">the</span> <span class="selector-tag">color</span> <span class="selector-tag">of</span> <span class="selector-tag">icon</span>, <span class="selector-tag">using</span> <span class="selector-tag">Hex</span> <span class="selector-tag">Code</span>.</span><br><span class="line">    <span class="selector-tag">color</span>: "<span class="selector-id">#f08080</span>"</span><br><span class="line"></span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">not</span> <span class="selector-tag">defined</span>, `<span class="selector-tag">author</span>` <span class="selector-tag">from</span> <span class="selector-tag">Hexo</span> <span class="selector-tag">main</span> <span class="selector-tag">config</span> <span class="selector-tag">will</span> <span class="selector-tag">be</span> <span class="selector-tag">used</span>.</span><br><span class="line">  <span class="selector-tag">copyright</span>: <span class="selector-tag">Siriusq</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">powered</span>:</span><br><span class="line">    # <span class="selector-tag">Hexo</span> <span class="selector-tag">link</span> (<span class="selector-tag">Powered</span> <span class="selector-tag">by</span> <span class="selector-tag">Hexo</span>).</span><br><span class="line">    <span class="selector-tag">enable</span>: <span class="selector-tag">false</span></span><br><span class="line">    # <span class="selector-tag">Version</span> <span class="selector-tag">info</span> <span class="selector-tag">of</span> <span class="selector-tag">Hexo</span> <span class="selector-tag">after</span> <span class="selector-tag">Hexo</span> <span class="selector-tag">link</span> (<span class="selector-tag">vX</span><span class="selector-class">.X</span><span class="selector-class">.X</span>).</span><br><span class="line">    <span class="selector-tag">version</span>: <span class="selector-tag">false</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">theme</span>:</span><br><span class="line">    # <span class="selector-tag">Theme</span> &amp; <span class="selector-tag">scheme</span> <span class="selector-tag">info</span> <span class="selector-tag">link</span> (<span class="selector-tag">Theme</span> <span class="selector-tag">-</span> <span class="selector-tag">NexT</span><span class="selector-class">.scheme</span>).</span><br><span class="line">    <span class="selector-tag">enable</span>: <span class="selector-tag">false</span></span><br><span class="line">    # <span class="selector-tag">Version</span> <span class="selector-tag">info</span> <span class="selector-tag">of</span> <span class="selector-tag">NexT</span> <span class="selector-tag">after</span> <span class="selector-tag">scheme</span> <span class="selector-tag">info</span> (<span class="selector-tag">vX</span><span class="selector-class">.X</span><span class="selector-class">.X</span>).</span><br><span class="line">    <span class="selector-tag">version</span>: <span class="selector-tag">false</span></span><br></pre></td></tr></table></figure><p><code>since:</code> 表示网站成立的年份，不设置的话默认是当前年份，显示为<code>© 2019</code></p><p><code>icon:</code> 中设置年份后面的图标，默认是心形，想修改的话去<a href="https://fontawesome.com/" target="_blank" rel="external nofollow noopener noreferrer">Fontawesome</a>选择图标，然后再<code>name</code>栏修改</p><p><code>animated:</code> 用于设置心形是否跳动<code>color:</code> 用于设置图标颜色，百度对照色表查就好</p><p><code>copyright:</code> 显示图标后面的版权所属，也就是作者名，不设置的话默认显示根目录配置文件中的作者名</p><p><code>powered:</code> 后面的栏目用于设定是否显示<code>Powered by Hexo</code>以及当前主题的版本信息，显示的话设为<code>true</code></p><p><code>theme:</code> 后面的栏目用于设定是否显示当前主题的版本信息，显示的话将设为<code>true</code></p><h3 id="版权信息"><a href="#版权信息" class="headerlink" title="版权信息"></a>版权信息</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">creative_commons</span>:</span><br><span class="line">  <span class="selector-tag">license</span>: <span class="selector-tag">by-nc-sa</span></span><br><span class="line">  <span class="selector-tag">sidebar</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">post</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">language</span>: <span class="selector-tag">en</span></span><br></pre></td></tr></table></figure><p><code>license:</code>用于设置版权标准，具体可以去<a href="https://creativecommons.org/share-your-work/licensing-types-examples" target="_blank" rel="external nofollow noopener noreferrer">Creative Commons</a>查看<br><code>sidebar:</code>用于设置是否在侧边栏显示版权标准<br><code>post:</code>用于设置是否在文章底部显示版权信息<br><code>language:</code>用于设置语言</p><h3 id="Github角标"><a href="#Github角标" class="headerlink" title="Github角标"></a>Github角标</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># `<span class="selector-tag">Follow</span> <span class="selector-tag">me</span> <span class="selector-tag">on</span> <span class="selector-tag">GitHub</span>` <span class="selector-tag">banner</span> <span class="selector-tag">in</span> <span class="selector-tag">the</span> <span class="selector-tag">top-right</span> <span class="selector-tag">corner</span>.</span><br><span class="line"><span class="selector-tag">github_banner</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  permalink: https://github.com/Siriusq</span><br><span class="line">  <span class="selector-tag">title</span>: <span class="selector-tag">Follow</span> <span class="selector-tag">me</span> <span class="selector-tag">on</span> <span class="selector-tag">GitHub</span></span><br></pre></td></tr></table></figure><p><code>enable:</code>用于设置是否在页面右上角显示Github三角标<br><code>permalink:</code>后面填写你的Github地址<br><code>title:</code>用于设置鼠标移动到图标后显示的文字</p><h3 id="侧边栏菜单设置"><a href="#侧边栏菜单设置" class="headerlink" title="侧边栏菜单设置"></a>侧边栏菜单设置</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">menu</span>:</span><br><span class="line">  home: / || home</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  switch_lang: /en || language</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonweal: /404/ || heartbeat</span><br></pre></td></tr></table></figure><p><code>||</code>前表示页面的地址，后面表示显示的图标名称<br><code>about:</code>用于设置<code>关于</code>页面，没有的话在Git bash中使用<code>hexo new page &quot;about&quot;</code>创建，然后打开<code>\source\about\index.md</code>就可以编写了<br><code>tags:</code>用于设置<code>标签</code>功能，同样使用命令<code>hexo new page &quot;tags&quot;</code>创建，然后打开<code>source\tags\index.md</code>并在日期后面添加一行<code>type: &quot;tags&quot;</code>，写博文时在顶部加上一栏<code>tags: []</code>即可设置标签，多个标签中间使用<code>,</code>分隔<br><code>archieves:</code>用于设置归档页面<br><code>categories:</code>用于设置目录页面，编辑博文时在顶部加上一栏<code>categories:</code>就可以为博文设置所属目录</p><h3 id="主题选择"><a href="#主题选择" class="headerlink" title="主题选择"></a>主题选择</h3><p>Next有四个主题可供选择</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Schemes</span></span><br><span class="line"><span class="selector-id">#scheme</span>: <span class="selector-tag">Muse</span></span><br><span class="line"><span class="selector-id">#scheme</span>: <span class="selector-tag">Mist</span></span><br><span class="line"><span class="selector-id">#scheme</span>: <span class="selector-tag">Pisces</span></span><br><span class="line"><span class="selector-tag">scheme</span>: <span class="selector-tag">Gemini</span></span><br></pre></td></tr></table></figure><p>把想要的主题前面的<code>#</code>删掉即可</p><h3 id="社交网站链接设置"><a href="#社交网站链接设置" class="headerlink" title="社交网站链接设置"></a>社交网站链接设置</h3><p>在侧边栏可以设置显示社交链接，让更多人了解自己</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Social</span> <span class="selector-tag">Links</span></span><br><span class="line"># Usage: `Key: permalink || icon`</span><br><span class="line"># <span class="selector-tag">Key</span> <span class="selector-tag">is</span> <span class="selector-tag">the</span> <span class="selector-tag">link</span> <span class="selector-tag">label</span> <span class="selector-tag">showing</span> <span class="selector-tag">to</span> <span class="selector-tag">end</span> <span class="selector-tag">users</span>.</span><br><span class="line"># Value before `||` delimeter is the target permalink.</span><br><span class="line"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.</span><br><span class="line"><span class="selector-tag">social</span>:</span><br><span class="line">  GitHub: https://github.com/Siriusq || github</span><br><span class="line">  <span class="selector-tag">E-Mail</span>: <span class="selector-tag">mailto</span><span class="selector-pseudo">:siriuskevin</span><span class="keyword">@foxmail</span>.com || envelope</span><br><span class="line">  #<span class="attribute">Weibo:</span> <span class="attribute">https:</span>//weibo.com/yourname || weibo</span><br><span class="line">  #<span class="attribute">Google:</span> <span class="attribute">https:</span>//plus.google.com/yourname || google</span><br><span class="line">  #<span class="attribute">Twitter:</span> <span class="attribute">https:</span>//twitter.com/yourname || twitter</span><br><span class="line">  #FB <span class="attribute">Page:</span> <span class="attribute">https:</span>//www.facebook.com/yourname || facebook</span><br><span class="line">  #VK <span class="attribute">Group:</span> <span class="attribute">https:</span>//vk.com/yourname || vk</span><br><span class="line">  #<span class="attribute">StackOverflow:</span> <span class="attribute">https:</span>//stackoverflow.com/yourname || stack-overflow</span><br><span class="line">  #<span class="attribute">YouTube:</span> <span class="attribute">https:</span>//youtube.com/yourname || youtube</span><br><span class="line">  #<span class="attribute">Instagram:</span> <span class="attribute">https:</span>//instagram.com/yourname || instagram</span><br><span class="line">  #<span class="attribute">Skype:</span> <span class="attribute">skype:</span>yourname?call|chat || skype</span><br></pre></td></tr></table></figure><p>在<code>||</code>前输入你社交主页的链接即可，后面用于设置图标<br><code>E-mail:</code>栏格式为<code>mailto:邮箱地址</code>，在win10系统可以调用系统邮件服务自动填写收件人</p><h3 id="头像设置"><a href="#头像设置" class="headerlink" title="头像设置"></a>头像设置</h3><p>用于设置是否在侧边栏显示头像</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Sidebar</span> <span class="selector-tag">Avatar</span></span><br><span class="line"><span class="selector-tag">avatar</span>:</span><br><span class="line">  # In theme directory (source/images): /images/avatar.gif</span><br><span class="line">  # In site directory (source/uploads): /uploads/avatar.gif</span><br><span class="line">  # <span class="selector-tag">You</span> <span class="selector-tag">can</span> <span class="selector-tag">also</span> <span class="selector-tag">use</span> <span class="selector-tag">other</span> <span class="selector-tag">linking</span> <span class="selector-tag">images</span>.</span><br><span class="line">  url: /images/avatar.gif</span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">true</span>, <span class="selector-tag">the</span> <span class="selector-tag">avatar</span> <span class="selector-tag">would</span> <span class="selector-tag">be</span> <span class="selector-tag">dispalyed</span> <span class="selector-tag">in</span> <span class="selector-tag">circle</span>.</span><br><span class="line">  <span class="selector-tag">rounded</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">The</span> <span class="selector-tag">value</span> <span class="selector-tag">of</span> <span class="selector-tag">opacity</span> <span class="selector-tag">should</span> <span class="selector-tag">be</span> <span class="selector-tag">choose</span> <span class="selector-tag">from</span> 0 <span class="selector-tag">to</span> 1 <span class="selector-tag">to</span> <span class="selector-tag">set</span> <span class="selector-tag">the</span> <span class="selector-tag">opacity</span> <span class="selector-tag">of</span> <span class="selector-tag">the</span> <span class="selector-tag">avatar</span>.</span><br><span class="line">  <span class="selector-tag">opacity</span>: 1</span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">true</span>, <span class="selector-tag">the</span> <span class="selector-tag">avatar</span> <span class="selector-tag">would</span> <span class="selector-tag">be</span> <span class="selector-tag">rotated</span> <span class="selector-tag">with</span> <span class="selector-tag">the</span> <span class="selector-tag">cursor</span>.</span><br><span class="line">  <span class="selector-tag">rotated</span>: <span class="selector-tag">true</span></span><br></pre></td></tr></table></figure><p>在<code>url:</code>后填写头像图片的路径，默认在<code>\themes\next\source\images</code>中<br><code>rounded:</code>用于设置是否显示圆形头像<br><code>opacity:</code>用于设置头像透明度，1为不透明<br><code>rotated:</code>用于设置头像鼠标移动到头像上时头像是否旋转</p><h3 id="侧边栏目录设置"><a href="#侧边栏目录设置" class="headerlink" title="侧边栏目录设置"></a>侧边栏目录设置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Table</span> <span class="selector-tag">Of</span> <span class="selector-tag">Contents</span> <span class="selector-tag">in</span> <span class="selector-tag">the</span> <span class="selector-tag">Sidebar</span></span><br><span class="line"><span class="selector-tag">toc</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">Automatically</span> <span class="selector-tag">add</span> <span class="selector-tag">list</span> <span class="selector-tag">number</span> <span class="selector-tag">to</span> <span class="selector-tag">toc</span>.</span><br><span class="line">  <span class="selector-tag">number</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">true</span>, <span class="selector-tag">all</span> <span class="selector-tag">words</span> <span class="selector-tag">will</span> <span class="selector-tag">placed</span> <span class="selector-tag">on</span> <span class="selector-tag">next</span> <span class="selector-tag">lines</span> <span class="selector-tag">if</span> <span class="selector-tag">header</span> <span class="selector-tag">width</span> <span class="selector-tag">longer</span> <span class="selector-tag">then</span> <span class="selector-tag">sidebar</span> <span class="selector-tag">width</span>.</span><br><span class="line">  <span class="selector-tag">wrap</span>: <span class="selector-tag">false</span></span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">true</span>, <span class="selector-tag">all</span> <span class="selector-tag">level</span> <span class="selector-tag">of</span> <span class="selector-tag">TOC</span> <span class="selector-tag">in</span> <span class="selector-tag">a</span> <span class="selector-tag">post</span> <span class="selector-tag">will</span> <span class="selector-tag">be</span> <span class="selector-tag">displayed</span>, <span class="selector-tag">rather</span> <span class="selector-tag">than</span> <span class="selector-tag">the</span> <span class="selector-tag">activated</span> <span class="selector-tag">part</span> <span class="selector-tag">of</span> <span class="selector-tag">it</span>.</span><br><span class="line">  <span class="selector-tag">expand_all</span>: <span class="selector-tag">false</span></span><br><span class="line">  # <span class="selector-tag">Maximum</span> <span class="selector-tag">heading</span> <span class="selector-tag">depth</span> <span class="selector-tag">of</span> <span class="selector-tag">generated</span> <span class="selector-tag">toc</span>. <span class="selector-tag">You</span> <span class="selector-tag">can</span> <span class="selector-tag">set</span> <span class="selector-tag">it</span> <span class="selector-tag">in</span> <span class="selector-tag">one</span> <span class="selector-tag">post</span> <span class="selector-tag">through</span> `<span class="selector-tag">toc_max_depth</span>` <span class="selector-tag">in</span> <span class="selector-tag">Front</span> <span class="selector-tag">Matter</span>.</span><br><span class="line">  <span class="selector-tag">max_depth</span>: 6</span><br></pre></td></tr></table></figure><p><code>enable:</code>用于设置是否开启侧边栏目录<br><code>number:</code>用于设置自动编号<br><code>wrap:</code>用于设置当标题长度超过侧边栏长度时是否自动换行<br><code>expand_all:</code>用于设置是否展开全部目录，否的话会自动展开正在看的那部分<br><code>max_depth:</code>用于设置自动生成目录的最大深度，也就是生成到几级标题</p><h3 id="侧边栏显示设置"><a href="#侧边栏显示设置" class="headerlink" title="侧边栏显示设置"></a>侧边栏显示设置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">sidebar</span>:</span><br><span class="line">  # Sidebar Position, available values: left | right (only for Pisces | Gemini).</span><br><span class="line">  <span class="selector-id">#position</span>: <span class="selector-tag">left</span></span><br><span class="line">  <span class="selector-tag">position</span>: <span class="selector-tag">right</span></span><br><span class="line"></span><br><span class="line">  # <span class="selector-tag">Manual</span> <span class="selector-tag">define</span> <span class="selector-tag">the</span> <span class="selector-tag">sidebar</span> <span class="selector-tag">width</span>. <span class="selector-tag">If</span> <span class="selector-tag">commented</span>, <span class="selector-tag">will</span> <span class="selector-tag">be</span> <span class="selector-tag">default</span> <span class="selector-tag">for</span>:</span><br><span class="line">  # Muse | Mist: 320</span><br><span class="line">  # Pisces | Gemini: 240</span><br><span class="line">  <span class="selector-tag">width</span>: 320</span><br><span class="line"></span><br><span class="line">  # Sidebar Display, available values (only for Muse | Mist):</span><br><span class="line">  #  <span class="selector-tag">-</span> <span class="selector-tag">post</span>    <span class="selector-tag">expand</span> <span class="selector-tag">on</span> <span class="selector-tag">posts</span> <span class="selector-tag">automatically</span>. <span class="selector-tag">Default</span>.</span><br><span class="line">  #  <span class="selector-tag">-</span> <span class="selector-tag">always</span>  <span class="selector-tag">expand</span> <span class="selector-tag">for</span> <span class="selector-tag">all</span> <span class="selector-tag">pages</span> <span class="selector-tag">automatically</span>.</span><br><span class="line">  #  <span class="selector-tag">-</span> <span class="selector-tag">hide</span>    <span class="selector-tag">expand</span> <span class="selector-tag">only</span> <span class="selector-tag">when</span> <span class="selector-tag">click</span> <span class="selector-tag">on</span> <span class="selector-tag">the</span> <span class="selector-tag">sidebar</span> <span class="selector-tag">toggle</span> <span class="selector-tag">icon</span>.</span><br><span class="line">  #  <span class="selector-tag">-</span> <span class="selector-tag">remove</span>  <span class="selector-tag">totally</span> <span class="selector-tag">remove</span> <span class="selector-tag">sidebar</span> <span class="selector-tag">including</span> <span class="selector-tag">sidebar</span> <span class="selector-tag">toggle</span>.</span><br><span class="line">  <span class="selector-tag">display</span>: <span class="selector-tag">post</span></span><br><span class="line"></span><br><span class="line">  # Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span><br><span class="line">  <span class="selector-tag">offset</span>: 12</span><br><span class="line">  # Enable sidebar on narrow view (only for Muse | Mist).</span><br><span class="line">  <span class="selector-tag">onmobile</span>: <span class="selector-tag">false</span></span><br><span class="line">  # Click any blank part of the page to close sidebar (only for Muse | Mist).</span><br><span class="line">  <span class="selector-tag">dimmer</span>: <span class="selector-tag">false</span></span><br></pre></td></tr></table></figure><p><code>position:</code>用于设置侧边栏在左边还是右边，把要选择的位置前面的<code>#</code>去掉再把另一个前面加上<code>#</code>即可，这个选项只对<code>Pisces</code>和<code>Gemini</code>两个主题起作用<br><code>width:</code>用于设置侧边栏的宽度，默认<code>Muse</code>和<code>Mist</code>是320,<code>Pisces</code>和<code>Gemini</code>是240<br><code>display:</code>用于设置侧边栏的显示方式，只对<code>Muse</code>和<code>Mist</code>两个主题起作用，可以挨个试一下<br><code>offset:</code>用于设置侧边栏距离顶部介绍的距离，只对<code>Pisces</code>和<code>Gemini</code>两个主题起作用<br><code>onmobile:</code>用于设置是否在手机等宽度较小的设备上显示侧边栏，只对<code>Muse</code>和<code>Mist</code>两个主题起作用<br><code>dimmer:</code>用于设置点击屏幕空白处是否关闭侧边栏，同样只对<code>Muse</code>和<code>Mist</code>两个主题起作用</p><h3 id="返回顶部按钮"><a href="#返回顶部按钮" class="headerlink" title="返回顶部按钮"></a>返回顶部按钮</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">back2top</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">Back</span> <span class="selector-tag">to</span> <span class="selector-tag">top</span> <span class="selector-tag">in</span> <span class="selector-tag">sidebar</span>.</span><br><span class="line">  <span class="selector-tag">sidebar</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">Scroll</span> <span class="selector-tag">percent</span> <span class="selector-tag">label</span> <span class="selector-tag">in</span> <span class="selector-tag">b2t</span> <span class="selector-tag">button</span>.</span><br><span class="line">  <span class="selector-tag">scrollpercent</span>: <span class="selector-tag">true</span></span><br></pre></td></tr></table></figure><p><code>enable:</code>用于设置是否开启回到顶部按钮<br><code>sidebar:</code>用于设置是否将按钮放到侧边栏中<br><code>scrollpercent:</code>用于设置是否显示阅读进度百分比</p><h3 id="开启阅读全文选项"><a href="#开启阅读全文选项" class="headerlink" title="开启阅读全文选项"></a>开启<code>阅读全文</code>选项</h3><p>用搜索找到这一段并把<code>read_more_btn:</code>设为<code>true</code>即可</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Read</span> <span class="selector-tag">more</span> <span class="selector-tag">button</span></span><br><span class="line"># <span class="selector-tag">If</span> <span class="selector-tag">true</span>, <span class="selector-tag">the</span> <span class="selector-tag">read</span> <span class="selector-tag">more</span> <span class="selector-tag">button</span> <span class="selector-tag">would</span> <span class="selector-tag">be</span> <span class="selector-tag">displayed</span> <span class="selector-tag">in</span> <span class="selector-tag">excerpt</span> <span class="selector-tag">section</span>.</span><br><span class="line"><span class="selector-tag">read_more_btn</span>: <span class="selector-tag">true</span></span><br></pre></td></tr></table></figure><p>下面这一段用于设置自动生成<code>阅读全文</code>选项</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Automatically</span> <span class="selector-tag">Excerpt</span> (<span class="selector-tag">Not</span> <span class="selector-tag">recommend</span>).</span><br><span class="line"># <span class="selector-tag">Use</span> &lt;!<span class="selector-tag">--</span> <span class="selector-tag">more</span> <span class="selector-tag">--</span>&gt; <span class="selector-tag">in</span> <span class="selector-tag">the</span> <span class="selector-tag">post</span> <span class="selector-tag">to</span> <span class="selector-tag">control</span> <span class="selector-tag">excerpt</span> <span class="selector-tag">accurately</span>.</span><br><span class="line"><span class="selector-tag">auto_excerpt</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">false</span></span><br><span class="line">  <span class="selector-tag">length</span>: 150</span><br></pre></td></tr></table></figure><p><code>length</code>表示截止到的字符长度</p><p>这一段用于设置自动跳转到<code>阅读全文</code>选项之后的位置</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Automatically</span> <span class="selector-tag">scroll</span> <span class="selector-tag">page</span> <span class="selector-tag">to</span> <span class="selector-tag">section</span> <span class="selector-tag">which</span> <span class="selector-tag">is</span> <span class="selector-tag">under</span> &lt;!<span class="selector-tag">--</span> <span class="selector-tag">more</span> <span class="selector-tag">--</span>&gt; <span class="selector-tag">mark</span>.</span><br><span class="line"><span class="selector-tag">scroll_to_more</span>: <span class="selector-tag">true</span></span><br></pre></td></tr></table></figure><p>设置完成后，在文章内加入<code>&lt;!--more--&gt;</code>字段就可以在首页隐去剩下的文字并显示<code>阅读全文</code> 按钮了</p><h3 id="代码块复制按钮"><a href="#代码块复制按钮" class="headerlink" title="代码块复制按钮"></a>代码块复制按钮</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">codeblock</span>:</span><br><span class="line">  # <span class="selector-tag">Manual</span> <span class="selector-tag">define</span> <span class="selector-tag">the</span> <span class="selector-tag">border</span> <span class="selector-tag">radius</span> <span class="selector-tag">in</span> <span class="selector-tag">codeblock</span>, <span class="selector-tag">leave</span> <span class="selector-tag">it</span> <span class="selector-tag">blank</span> <span class="selector-tag">for</span> <span class="selector-tag">the</span> <span class="selector-tag">default</span> <span class="selector-tag">value</span>: 1</span><br><span class="line">  <span class="selector-tag">border_radius</span>:</span><br><span class="line">  # <span class="selector-tag">Add</span> <span class="selector-tag">copy</span> <span class="selector-tag">button</span> <span class="selector-tag">on</span> <span class="selector-tag">codeblock</span></span><br><span class="line">  <span class="selector-tag">copy_button</span>:</span><br><span class="line">    <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">    # <span class="selector-tag">Show</span> <span class="selector-tag">text</span> <span class="selector-tag">copy</span> <span class="selector-tag">result</span></span><br><span class="line">    <span class="selector-tag">show_result</span>: <span class="selector-tag">true</span></span><br><span class="line">    # Style: only 'flat' is currently available, leave it blank if you prefer default theme</span><br><span class="line">    <span class="selector-tag">style</span>:</span><br></pre></td></tr></table></figure><p><code>enable：</code>用于开启代码块右上角的复制按钮<br><code>show_result:</code>用于设置是否显示复制成功提示</p><h3 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Reward</span> (<span class="selector-tag">Donate</span>)</span><br><span class="line"><span class="selector-tag">reward_settings</span>:</span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">true</span>, <span class="selector-tag">reward</span> <span class="selector-tag">would</span> <span class="selector-tag">be</span> <span class="selector-tag">displayed</span> <span class="selector-tag">in</span> <span class="selector-tag">every</span> <span class="selector-tag">article</span> <span class="selector-tag">by</span> <span class="selector-tag">default</span>.</span><br><span class="line">  # You can show or hide reward in a specific article throuth `reward: true | false` in Front Matter.</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">false</span></span><br><span class="line">  <span class="selector-tag">animation</span>: <span class="selector-tag">false</span></span><br><span class="line">  <span class="selector-id">#comment</span>: <span class="selector-tag">Donate</span> <span class="selector-tag">comment</span> <span class="selector-tag">here</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">reward</span>:</span><br><span class="line">  #wechatpay: /images/wechatpay.png</span><br><span class="line">  #alipay: /images/alipay.png</span><br><span class="line">  #bitcoin: /images/bitcoin.png</span><br></pre></td></tr></table></figure><p><code>enable:</code>用于设置是否在文章末尾显示打赏按钮<br><code>animation:</code>用于设置打上按钮是否显示动画<br><code>reward:</code>后面的选项去掉前面的<code>#</code>即可开启对应的打赏，记得替换成自己的图片，路径在<code>\themes\next\source\images</code></p><h3 id="代码块高亮主题"><a href="#代码块高亮主题" class="headerlink" title="代码块高亮主题"></a>代码块高亮主题</h3><p>Next主题内置了tomorrow代码高亮主题，一共有五个，可以去<a href="https://github.com/chriskempson/tomorrow-theme" target="_blank" rel="external nofollow noopener noreferrer">Tomorrow</a>查看预览效果，在下面的<code>highlight_theme:</code>中改成自己想要的即可</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Code</span> <span class="selector-tag">Highlight</span> <span class="selector-tag">theme</span></span><br><span class="line"># Available values: normal | night | night eighties | night blue | night bright</span><br><span class="line"># https://github.com/chriskempson/tomorrow-theme</span><br><span class="line"><span class="selector-tag">highlight_theme</span>: <span class="selector-tag">night</span></span><br></pre></td></tr></table></figure><h3 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h3><p>在左上角显示一个书签按钮可以跳转到上一次设置书签的位置<br>首先执行命令<code>git clone https://github.com/theme-next/theme-next-bookmark.git source/lib/bookmark</code>安装<a href="https://github.com/theme-next/theme-next-bookmark" target="_blank" rel="external nofollow noopener noreferrer">bookmark</a>插件<br>然后在下面的选项中将<code>enable:</code>设置为<code>true</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Bookmark</span> <span class="selector-tag">Support</span></span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-bookmark</span><br><span class="line"><span class="selector-tag">bookmark</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">auto</span>, <span class="selector-tag">save</span> <span class="selector-tag">the</span> <span class="selector-tag">reading</span> <span class="selector-tag">position</span> <span class="selector-tag">when</span> <span class="selector-tag">closing</span> <span class="selector-tag">the</span> <span class="selector-tag">page</span> <span class="selector-tag">or</span> <span class="selector-tag">clicking</span> <span class="selector-tag">the</span> <span class="selector-tag">bookmark-icon</span>.</span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">manual</span>, <span class="selector-tag">only</span> <span class="selector-tag">save</span> <span class="selector-tag">it</span> <span class="selector-tag">by</span> <span class="selector-tag">clicking</span> <span class="selector-tag">the</span> <span class="selector-tag">bookmark-icon</span>.</span><br><span class="line">  <span class="selector-tag">save</span>: <span class="selector-tag">auto</span></span><br></pre></td></tr></table></figure><h3 id="开启RSS"><a href="#开启RSS" class="headerlink" title="开启RSS"></a>开启RSS</h3><p>话说RSS好像也没什么人用了。。。。。。</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>在博客根目录执行下面的命令安装RSS插件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>打开博客根目录的配置文件<code>_config.yml</code>并在末尾添加下列代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">RSS</span>订阅支持</span><br><span class="line"><span class="selector-tag">plugin</span>:</span><br><span class="line"><span class="selector-tag">-</span> <span class="selector-tag">hexo-generator-feed</span></span><br><span class="line"></span><br><span class="line"># <span class="selector-tag">Feed</span> <span class="selector-tag">Atom</span></span><br><span class="line"><span class="selector-tag">feed</span>:</span><br><span class="line"><span class="selector-tag">type</span>: <span class="selector-tag">atom</span></span><br><span class="line"><span class="selector-tag">path</span>: <span class="selector-tag">atom</span><span class="selector-class">.xml</span></span><br><span class="line"><span class="selector-tag">limit</span>: 20</span><br></pre></td></tr></table></figure><h3 id="页面搜索功能"><a href="#页面搜索功能" class="headerlink" title="页面搜索功能"></a>页面搜索功能</h3><p>开启站内搜索功能方便快速定位</p><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>执行下列命令安装插件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><p>打开Next主题的配置文件<code>_config.yml</code>并搜索<code>local_search</code>,修改为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Local</span> <span class="selector-tag">search</span></span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><br><span class="line"><span class="selector-tag">local_search</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">auto</span>, <span class="selector-tag">trigger</span> <span class="selector-tag">search</span> <span class="selector-tag">by</span> <span class="selector-tag">changing</span> <span class="selector-tag">input</span>.</span><br><span class="line">  # <span class="selector-tag">If</span> <span class="selector-tag">manual</span>, <span class="selector-tag">trigger</span> <span class="selector-tag">search</span> <span class="selector-tag">by</span> <span class="selector-tag">pressing</span> <span class="selector-tag">enter</span> <span class="selector-tag">key</span> <span class="selector-tag">or</span> <span class="selector-tag">search</span> <span class="selector-tag">button</span>.</span><br><span class="line">  <span class="selector-tag">trigger</span>: <span class="selector-tag">auto</span></span><br><span class="line">  # <span class="selector-tag">Show</span> <span class="selector-tag">top</span> <span class="selector-tag">n</span> <span class="selector-tag">results</span> <span class="selector-tag">per</span> <span class="selector-tag">article</span>, <span class="selector-tag">show</span> <span class="selector-tag">all</span> <span class="selector-tag">results</span> <span class="selector-tag">by</span> <span class="selector-tag">setting</span> <span class="selector-tag">to</span> <span class="selector-tag">-1</span></span><br><span class="line">  <span class="selector-tag">top_n_per_article</span>: 1</span><br><span class="line">  # <span class="selector-tag">Unescape</span> <span class="selector-tag">html</span> <span class="selector-tag">strings</span> <span class="selector-tag">to</span> <span class="selector-tag">the</span> <span class="selector-tag">readable</span> <span class="selector-tag">one</span>.</span><br><span class="line">  <span class="selector-tag">unescape</span>: <span class="selector-tag">false</span></span><br></pre></td></tr></table></figure><h2 id="Next-主题深度美化"><a href="#Next-主题深度美化" class="headerlink" title="Next 主题深度美化"></a>Next 主题深度美化</h2><h2 id="顶部阅读进度条"><a href="#顶部阅读进度条" class="headerlink" title="顶部阅读进度条"></a>顶部阅读进度条</h2><p>在博文页面顶部添加<a href="https://github.com/theme-next/theme-next-reading-progress" target="_blank" rel="external nofollow noopener noreferrer">Reading Progress</a>进度条，表示阅读进度，Next主题已内置配置文件</p><h3 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h3><p>切换到Next主题文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure><p>安装模块到<code>source/lib</code>文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/theme-next/theme-next-reading-progress source/lib/reading_progress</span><br></pre></td></tr></table></figure><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>打开Next主题路径下的配置文件<code>_config.yml</code>，搜索<code>reading_progress</code>定位到如下代码并将<code>enable:</code>设置为<code>true</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">Reading</span> <span class="selector-tag">progress</span> <span class="selector-tag">bar</span></span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-reading-progress</span><br><span class="line"><span class="selector-tag">reading_progress</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">color</span>: "<span class="selector-id">#ffc0cb</span>" # 调整线条颜色</span><br><span class="line">  <span class="selector-tag">height</span>: 2<span class="selector-tag">px</span> # 调整线条高度</span><br></pre></td></tr></table></figure><p>线条颜色可以在<a href="http://www.atool9.com/colorpicker.php" target="_blank" rel="external nofollow noopener noreferrer">ATOOL</a>查询颜色代码直接修改，默认颜色是青色，我修改的是粉色<br>顶部阅读进度条可能会和加载条重合，可以通过修改线条高度覆盖，我的线条高度设置成了<code>3px</code></p><h3 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h3><p>切换到安装目录</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/source/lib/reading_progress</span><br></pre></td></tr></table></figure><p>更新</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h2 id="加载条"><a href="#加载条" class="headerlink" title="加载条"></a>加载条</h2><p>用于在网页加载的过程中显示加载进度，Next主题已支持<a href="https://github.com/theme-next/theme-next-pace" target="_blank" rel="external nofollow noopener noreferrer">PACE</a>功能<br>有多种加载动画可选</p><ul><li>pace-theme-big-counter</li><li>pace-theme-bounce</li><li>pace-theme-barber-shop</li><li>pace-theme-center-atom</li><li>pace-theme-center-circle</li><li>pace-theme-center-radar</li><li>pace-theme-center-simple</li><li>pace-theme-corner-indicator</li><li>pace-theme-fill-left</li><li>pace-theme-flash</li><li>pace-theme-loading-bar</li><li>pace-theme-mac-osx</li><li>pace-theme-minimal</li></ul><h3 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h3><p>切换到Next主题文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure><p>安装模块到<code>source/lib</code>文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/theme-next/theme-next-pace source/lib/pace</span><br></pre></td></tr></table></figure><h3 id="修改配置文件-1"><a href="#修改配置文件-1" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>打开Next主题路径下的配置文件<code>_config.yml</code>，搜索<code>pace</code>定位到如下代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Progress bar in the top during page loading.</span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-pace</span><br><span class="line">pace: <span class="literal">true</span></span><br><span class="line"># Themes list:</span><br><span class="line"># pace-theme-big-counter | pace-theme-bounce | pace-theme-barber-shop | pace-theme-center-atom</span><br><span class="line"># pace-theme-center-circle | pace-theme-center-radar | pace-theme-center-simple | pace-theme-corner-indicator</span><br><span class="line"># pace-theme-fill-left | pace-theme-flash | pace-theme-loading-bar | pace-theme-mac-osx | pace-theme-minimal</span><br><span class="line">pace_theme: pace-theme-flash</span><br></pre></td></tr></table></figure><p>将<code>pace:</code>设置为<code>true</code><br>将<code>pace_theme:</code>设置为上面<code>Themes list:</code>中的一种，主题样式可以在<a href="https://github.hubspot.com/pace/docs/welcome/" target="_blank" rel="external nofollow noopener noreferrer">PACE</a>查看</p><h3 id="调整颜色"><a href="#调整颜色" class="headerlink" title="调整颜色"></a>调整颜色</h3><p>为了让进度条和主题背景相匹配，可以在<code>./themes/next/source/lib/pace</code>中找到相应主题的css文件并修改颜色配置<br>下面代码以<code>pace-theme-flash.min.css</code>示例</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">  <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">  <span class="attribute">user-select</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc0cb</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress-inner</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#ffc0cb</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#ffc0cb</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1.0</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>) <span class="built_in">translate</span>(<span class="number">0px</span>, -<span class="number">4px</span>);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>) <span class="built_in">translate</span>(<span class="number">0px</span>, -<span class="number">4px</span>);</span><br><span class="line">  <span class="attribute">-ms-transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>) <span class="built_in">translate</span>(<span class="number">0px</span>, -<span class="number">4px</span>);</span><br><span class="line">  <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>) <span class="built_in">translate</span>(<span class="number">0px</span>, -<span class="number">4px</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>) <span class="built_in">translate</span>(<span class="number">0px</span>, -<span class="number">4px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-activity</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">border</span>: solid <span class="number">2px</span> transparent;</span><br><span class="line">  <span class="attribute">border-top-color</span>: <span class="number">#ffc0cb</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#ffc0cb</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: pace-spinner <span class="number">400ms</span> linear infinite;</span><br><span class="line">  <span class="attribute">-moz-animation</span>: pace-spinner <span class="number">400ms</span> linear infinite;</span><br><span class="line">  <span class="attribute">-ms-animation</span>: pace-spinner <span class="number">400ms</span> linear infinite;</span><br><span class="line">  <span class="attribute">-o-animation</span>: pace-spinner <span class="number">400ms</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: pace-spinner <span class="number">400ms</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> pace-spinner &#123;</span><br><span class="line">  0% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); &#125;</span><br><span class="line">  100% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> pace-spinner &#123;</span><br><span class="line">  0% &#123; <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); &#125;</span><br><span class="line">  100% &#123; <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-o-keyframes</span> pace-spinner &#123;</span><br><span class="line">  0% &#123; <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); &#125;</span><br><span class="line">  100% &#123; <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-ms-keyframes</span> pace-spinner &#123;</span><br><span class="line">  0% &#123; <span class="attribute">-ms-transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); &#125;</span><br><span class="line">  100% &#123; <span class="attribute">-ms-transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> pace-spinner &#123;</span><br><span class="line">  0% &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>); &#125;</span><br><span class="line">  100% &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用搜索功能搜索<code>#</code>,定位到颜色设置，上述代码中一共有5处，颜色替换方法如下</p><ul><li>在<a href="http://www.atool9.com/colorpicker.php" target="_blank" rel="external nofollow noopener noreferrer">ATOOL</a>查询颜色代码直接修改</li><li>使用<code>Visual Studio Code</code>安装css插件直接点击<code>#</code>修改颜色</li><li>前往<a href="https://github.hubspot.com/pace/docs/welcome/" target="_blank" rel="external nofollow noopener noreferrer">PACE</a>选择颜色并复制代码直接替换原文件中的代码</li></ul><p>默认颜色都是蓝色，上述代码修改完后是粉色</p><h3 id="升级-1"><a href="#升级-1" class="headerlink" title="升级"></a>升级</h3><p>切换到安装目录</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/source/lib/pace</span><br></pre></td></tr></table></figure><p>更新</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h2 id="动态背景"><a href="#动态背景" class="headerlink" title="动态背景"></a>动态背景</h2><p>Next主题默认提供了三种动态背景</p><ul><li><a href="https://github.com/theme-next/theme-next-canvas-nest" target="_blank" rel="external nofollow noopener noreferrer">Canvas-nest</a></li><li><a href="https://github.com/theme-next/theme-next-three" target="_blank" rel="external nofollow noopener noreferrer">JavaScript 3D library</a></li><li><a href="https://github.com/theme-next/theme-next-canvas-ribbon" target="_blank" rel="external nofollow noopener noreferrer">Canvas-ribbon</a></li></ul><h3 id="Canvas-nest"><a href="#Canvas-nest" class="headerlink" title="Canvas-nest"></a>Canvas-nest</h3><p>我选用的是这个背景，比较好玩</p><h4 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h4><p>切换到Next主题文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure><p>安装模块</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest</span><br></pre></td></tr></table></figure><h4 id="修改配置文件-2"><a href="#修改配置文件-2" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><p>打开Next主题路径下的配置文件<code>_config.yml</code>修改下列代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Canvas-nest</span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-canvas-nest</span><br><span class="line">canvas_nest:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  onmobile: true # 是否在手机上显示</span><br><span class="line">  color: "255,51,51" # RGB颜色设置</span><br><span class="line">  opacity: 0.5 # 线条透明度</span><br><span class="line">  zIndex: -1 # 显示级别</span><br><span class="line">  count: 160 # 线条的数量，越多越卡</span><br></pre></td></tr></table></figure><p>如果想使用CDN加速的话需要设置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vendors:</span><br><span class="line">  ...</span><br><span class="line">  canvas_nest: <span class="comment">//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1.0.0/canvas-nest.min.js</span></span><br><span class="line">  canvas_nest_nomobile: <span class="comment">//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1.0.0/canvas-nest-nomobile.min.js</span></span><br></pre></td></tr></table></figure><h4 id="升级-2"><a href="#升级-2" class="headerlink" title="升级"></a>升级</h4><p>切换到安装目录</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/source/lib/canvas-nest</span><br></pre></td></tr></table></figure><p>更新</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h3 id="JavaScript-3D-library"><a href="#JavaScript-3D-library" class="headerlink" title="JavaScript 3D library"></a>JavaScript 3D library</h3><h4 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h4><p>切换到Next主题文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure><p>安装模块</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/theme-next/theme-next-three source/lib/three</span><br></pre></td></tr></table></figure><h4 id="修改配置文件-3"><a href="#修改配置文件-3" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><p>打开Next主题路径下的配置文件<code>_config.yml</code>修改下列代码，有三种风格可选，将一种设置为<code>true</code>即可</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># JavaScript 3D library.</span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-three</span><br><span class="line"># three_waves</span><br><span class="line">three_waves: <span class="literal">true</span></span><br><span class="line"># canvas_lines</span><br><span class="line">canvas_lines: <span class="literal">false</span></span><br><span class="line"># canvas_sphere</span><br><span class="line">canvas_sphere: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="升级-3"><a href="#升级-3" class="headerlink" title="升级"></a>升级</h4><p>切换到安装目录</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/source/lib/three</span><br></pre></td></tr></table></figure><p>更新</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h3 id="Canvas-ribbon"><a href="#Canvas-ribbon" class="headerlink" title="Canvas-ribbon"></a>Canvas-ribbon</h3><h4 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h4><p>切换到Next主题文件夹</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br></pre></td></tr></table></figure><p>安装模块</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/theme-next/theme-next-canvas-ribbon source/lib/canvas-ribbon</span><br></pre></td></tr></table></figure><h4 id="修改配置文件-4"><a href="#修改配置文件-4" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><p>打开Next主题路径下的配置文件<code>_config.yml</code>修改下列代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Canvas-ribbon</span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-canvas-ribbon</span><br><span class="line"># size: The width of the ribbon.</span><br><span class="line"># alpha: The transparency of the ribbon.</span><br><span class="line"># zIndex: The display level of the ribbon.</span><br><span class="line">canvas_ribbon:</span><br><span class="line">  enable: true # 是否开启</span><br><span class="line">  size: 300 # 宽度</span><br><span class="line">  alpha: 0.6 # 透明度</span><br><span class="line">  zIndex: -1 # 显示级别</span><br></pre></td></tr></table></figure><h4 id="升级-4"><a href="#升级-4" class="headerlink" title="升级"></a>升级</h4><p>切换到安装目录</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next/source/lib/canvas-ribbon</span><br></pre></td></tr></table></figure><p>更新</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h2 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h2><p>在网页中加入鼠标点击特效，目前有心形和爆炸两种特效，两者可以叠加，特效对性能较低的设备非常不友好，尤其是爆炸特效，在平板上卡成PPT，慎用……</p><h3 id="心形特效"><a href="#心形特效" class="headerlink" title="心形特效"></a>心形特效</h3><h4 id="创建js文件"><a href="#创建js文件" class="headerlink" title="创建js文件"></a>创建js文件</h4><p>在<code>./themes/next/source/js</code>中新建<code>clicklove.js</code>，并将粘贴下列代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params">e,t,a</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>)</span>&#123;c(<span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span>),o(),r()&#125;<span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;d.length;e++)d[e].alpha&lt;=<span class="number">0</span>?(t.body.removeChild(d[e].el),d.splice(e,<span class="number">1</span>)):(d[e].y--,d[e].scale+=<span class="number">.004</span>,d[e].alpha-=<span class="number">.013</span>,d[e].el.style.cssText=<span class="string">"left:"</span>+d[e].x+<span class="string">"px;top:"</span>+d[e].y+<span class="string">"px;opacity:"</span>+d[e].alpha+<span class="string">";transform:scale("</span>+d[e].scale+<span class="string">","</span>+d[e].scale+<span class="string">") rotate(45deg);background:"</span>+d[e].color+<span class="string">";z-index:99999"</span>);requestAnimationFrame(r)&#125;<span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> t=<span class="string">"function"</span>==<span class="keyword">typeof</span> e.onclick&amp;&amp;e.onclick;e.onclick=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">"div"</span>);a.className=<span class="string">"heart"</span>,d.push(&#123;<span class="attr">el</span>:a,<span class="attr">x</span>:e.clientX<span class="number">-5</span>,<span class="attr">y</span>:e.clientY<span class="number">-5</span>,<span class="attr">scale</span>:<span class="number">1</span>,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:s()&#125;),t.body.appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">"style"</span>);a.type=<span class="string">"text/css"</span>;<span class="keyword">try</span>&#123;a.appendChild(t.createTextNode(e))&#125;<span class="keyword">catch</span>(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>].appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">"rgb("</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">","</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">","</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">")"</span>&#125;<span class="keyword">var</span> d=[];e.requestAnimationFrame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;setTimeout(e,<span class="number">1e3</span>/<span class="number">60</span>)&#125;&#125;(),n()&#125;(<span class="built_in">window</span>,<span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h4 id="修改layout文件"><a href="#修改layout文件" class="headerlink" title="修改layout文件"></a>修改layout文件</h4><p>打开<code>./themes/next/layout/_layout.swig</code>并在末尾添加以下代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 页面点击心形 --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/clicklove.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="爆炸特效"><a href="#爆炸特效" class="headerlink" title="爆炸特效"></a>爆炸特效</h3><h4 id="创建js文件-1"><a href="#创建js文件-1" class="headerlink" title="创建js文件"></a>创建js文件</h4><p>在<code>./themes/next/source/js</code>中新建<code>firework.js</code>，并将粘贴下列代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[<span class="number">-1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length<span class="number">-1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">"#F00"</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">"linear"</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="keyword">this</span>,i=<span class="built_in">arguments</span>;clearTimeout(a),a=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">"2d"</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">"mousedown"</span>,colors=[<span class="string">"#FF1461"</span>,<span class="string">"#18FF92"</span>,<span class="string">"#5A87FF"</span>,<span class="string">"#FBF38C"</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">"px"</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">"px"</span>,canvasEl.getContext(<span class="string">"2d"</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">"sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"toggle-sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"A"</span>!==e.target.nodeName&amp;&amp;<span class="string">"IMG"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>,setCanvasSize,!<span class="number">1</span>)&#125;<span class="string">"use strict"</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[<span class="number">-1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length<span class="number">-1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">"#F00"</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">"linear"</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">"easeOutExpo"</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="keyword">this</span>,i=<span class="built_in">arguments</span>;clearTimeout(a),a=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">"2d"</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">"mousedown"</span>,colors=[<span class="string">"#FF1461"</span>,<span class="string">"#18FF92"</span>,<span class="string">"#5A87FF"</span>,<span class="string">"#FBF38C"</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">"px"</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">"px"</span>,canvasEl.getContext(<span class="string">"2d"</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">"sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"toggle-sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"A"</span>!==e.target.nodeName&amp;&amp;<span class="string">"IMG"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>,setCanvasSize,!<span class="number">1</span>)&#125;;</span><br></pre></td></tr></table></figure><h4 id="修改layout文件-1"><a href="#修改layout文件-1" class="headerlink" title="修改layout文件"></a>修改layout文件</h4><p>打开<code>./themes/next/layout/_layout.swig</code>并在``中间添加以下代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  &lt;!-- 爆炸效果 --&gt;</span><br><span class="line">&lt;canvas <span class="class"><span class="keyword">class</span></span>=<span class="string">"fireworks"</span> style=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span> </span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> </span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/firework.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="配置主题文件"><a href="#配置主题文件" class="headerlink" title="配置主题文件"></a>配置主题文件</h4><p>打开<code>./themes/next</code>路径下的<code>_config.yml</code>文件并在末尾添加以下代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Fireworks</span><br><span class="line">fireworks: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="网易云音乐挂件"><a href="#网易云音乐挂件" class="headerlink" title="网易云音乐挂件"></a>网易云音乐挂件</h2><p>给博客加入背景音乐，支持网易云歌单，步骤如下：</p><ol><li><p>首先登陆<a href="https://music.163.com/" target="_blank" rel="external nofollow noopener noreferrer">网易云音乐网页版</a></p></li><li><p>选择自己想要添加的歌单</p></li><li><p>分享歌单</p></li><li><p>点击右上角个人头像，进入<code>我的主页</code></p></li><li><p>点击<code>动态</code></p></li><li><p>找到自己刚刚分享的歌单</p></li><li><p>点击<code>生成外链播放器</code></p></li><li><p>选择<code>iframe</code>界面并调整播放器样式与大小</p></li><li><p><code>播放模式</code>个人建议不勾选自动播放</p></li><li><p>复制下方html代码</p></li><li><p>按照路径<code>Hexo根目录\themes\next\layout\_macro</code>打开<code>sidebar.swig</code></p></li><li><p>在合适的位置加入以下代码，位置慢慢调整,中间</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iframe</span><br></pre></td></tr></table></figure><p>是刚刚复制的代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"music163player"</span>&gt;</span><br><span class="line">       &lt;iframe frameborder=<span class="string">"no"</span> border=<span class="string">"0"</span> marginwidth=<span class="string">"0"</span> marginheight=<span class="string">"0"</span> width=<span class="number">280</span> height=<span class="number">450</span> src=<span class="string">"//music.163.com/outchain/player?type=0&amp;id=908252389&amp;auto=1&amp;height=430"</span>&gt;</span><br><span class="line">       &lt;<span class="regexp">/iframe&gt;</span></span><br><span class="line"><span class="regexp">       &lt;/</span>div&gt;</span><br></pre></td></tr></table></figure></li><li><p>播放器可能由于侧栏宽度不够显示不全，需要在<code>主题配置文件</code>中调整侧栏宽度</p></li><li><p>打开next主题下的<code>_config.yml</code>文件</p></li><li><p>搜索width,在下列代码中去掉最后一行width前的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#</span><br></pre></td></tr></table></figure><p>号使其生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Manual define the sidebar width. If commented, will be default for:</span><br><span class="line"># Muse | Mist: 320</span><br><span class="line"># Pisces | Gemini: 240</span><br><span class="line"># width: 300</span><br></pre></td></tr></table></figure></li><li><p>根据需要调整侧栏宽度</p></li></ol><h2 id="修改超链接样式"><a href="#修改超链接样式" class="headerlink" title="修改超链接样式"></a>修改超链接样式</h2><p>打开<code>themes\next\source\css\_common\components\post\post.styl</code>并在末尾一串<code>@import</code>上面添加以下代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 文章内链接文本样式</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#fc6423</span>;</span><br><span class="line">    <span class="selector-tag">border-bottom</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="在文章结尾添加本文结束标志"><a href="#在文章结尾添加本文结束标志" class="headerlink" title="在文章结尾添加本文结束标志"></a>在文章结尾添加本文结束标志</h2><h3 id="新建文件"><a href="#新建文件" class="headerlink" title="新建文件"></a>新建文件</h3><p>在<code>\themes\next\layout\_macro</code>中新建<code>passage-end-tag.swig</code>文件,并复制下列代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% <span class="keyword">if</span> not is_index %&#125;</span><br><span class="line">        &lt;div style=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;-------------本文结束&lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-paw"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span>感谢您的阅读-------------<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure><h3 id="修改文件"><a href="#修改文件" class="headerlink" title="修改文件"></a>修改文件</h3><p>打开<code>\themes\next\layout\_macro\post.swig</code>，在<code>post-body</code>之后，<code>post-footer</code>之前添加下列代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;% <span class="keyword">if</span> not is_index %&#125;</span><br><span class="line">    &#123;% include <span class="string">'passage-end-tag.swig'</span> %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure><h3 id="修改主题文件"><a href="#修改主题文件" class="headerlink" title="修改主题文件"></a>修改主题文件</h3><p>打开主题配置文件<code>_config.yml</code>,并在末尾添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 文章末尾添加“本文结束”标记</span><br><span class="line"><span class="selector-tag">passage_end_tag</span>:</span><br><span class="line">  <span class="selector-tag">enabled</span>: <span class="selector-tag">true</span></span><br></pre></td></tr></table></figure><h2 id="网站运行时间"><a href="#网站运行时间" class="headerlink" title="网站运行时间"></a>网站运行时间</h2><p>打开<code>.\themes\next\layout\_partials\footer.swig</code>并添加下列代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;span id="timeDate"&gt;载入天数...&lt;/span&gt;&lt;span id="times"&gt;载入时分秒...&lt;/span&gt;</span><br><span class="line">&lt;<span class="selector-tag">script</span>&gt;</span><br><span class="line">    var now = new Date();</span><br><span class="line">    <span class="selector-tag">function</span> <span class="selector-tag">createtime</span>() &#123;</span><br><span class="line">        var grt= new Date("03/31/2019 00:00:00");</span><br><span class="line">        <span class="selector-tag">now</span><span class="selector-class">.setTime</span>(<span class="selector-tag">now</span><span class="selector-class">.getTime</span>()+250);</span><br><span class="line">        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);</span><br><span class="line">        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);</span><br><span class="line">        if(String(hnum).length ==1 )&#123;hnum = "0" + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line">        mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = "0" + mnum;&#125;</span><br><span class="line">        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line">        snum = Math.round(seconds); if(String(snum).length ==1 )&#123;snum = "0" + snum;&#125;</span><br><span class="line">        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";</span><br><span class="line">        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";</span><br><span class="line">    &#125;</span><br><span class="line"><span class="selector-tag">setInterval</span>("<span class="selector-tag">createtime</span>()",250);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h2 id="访客统计"><a href="#访客统计" class="headerlink" title="访客统计"></a>访客统计</h2><p>Next主题已经内置了不蒜子统计，在Next主题的配置文件<code>_config.yml</code>中搜索<code>busuanzi_count</code>并将<code>enable</code>设置为<code>true</code>，<code>icon</code>可以自定义设置，下面是我的配置</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Show Views / Visitors of the website / page with busuanzi.</span><br><span class="line"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span><br><span class="line"><span class="selector-tag">busuanzi_count</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">total_visitors</span>: <span class="selector-tag">true</span> # 总访客数量，在页脚显示</span><br><span class="line">  <span class="selector-tag">total_visitors_icon</span>: <span class="selector-tag">user</span></span><br><span class="line">  <span class="selector-tag">total_views</span>: <span class="selector-tag">true</span> # 总阅读数量，在页脚显示</span><br><span class="line">  <span class="selector-tag">total_views_icon</span>: <span class="selector-tag">eye</span></span><br><span class="line">  <span class="selector-tag">post_views</span>: <span class="selector-tag">true</span> # 单篇文章阅读数量，在标题下显示</span><br><span class="line">  <span class="selector-tag">post_views_icon</span>: <span class="selector-tag">eye</span></span><br></pre></td></tr></table></figure><h2 id="字数统计和阅读时长统计"><a href="#字数统计和阅读时长统计" class="headerlink" title="字数统计和阅读时长统计"></a>字数统计和阅读时长统计</h2><h3 id="安装-7"><a href="#安装-7" class="headerlink" title="安装"></a>安装</h3><p>在博客根目录下执行命令安装统计插件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-<span class="built_in">time</span> --save</span><br></pre></td></tr></table></figure><h3 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h3><p>在博客根目录配置文件<code>_config.yaml</code>中加入下列代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">symbols_count_time</span>:</span><br><span class="line">  <span class="selector-tag">symbols</span>: <span class="selector-tag">true</span> # 文章字数</span><br><span class="line">  <span class="selector-tag">time</span>: <span class="selector-tag">true</span> # 阅读时长</span><br><span class="line">  <span class="selector-tag">total_symbols</span>: <span class="selector-tag">true</span> # 所有文章总字数</span><br><span class="line">  <span class="selector-tag">total_time</span>: <span class="selector-tag">true</span> # 所有文章阅读中时长</span><br></pre></td></tr></table></figure><p>在Next主题配置文件<code>_config.yaml</code>中搜索<code>symbol_count</code>并修改为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">symbols_count_time</span>:</span><br><span class="line">  <span class="selector-tag">separated_meta</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">item_text_post</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">item_text_total</span>: <span class="selector-tag">false</span></span><br><span class="line">  <span class="selector-tag">awl</span>: 4</span><br><span class="line">  <span class="selector-tag">wpm</span>: 275</span><br></pre></td></tr></table></figure><h2 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h2><p>只在需要的时候加载图片，而不是一次性加载完成，加快速度，适用于图片较多的博客（<del>像我一样懒得放图的就不用看了</del>）</p><h3 id="安装-8"><a href="#安装-8" class="headerlink" title="安装"></a>安装</h3><p>在博客根目录执行命令安装插件</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-lazyload --save</span><br></pre></td></tr></table></figure><h3 id="配置-3"><a href="#配置-3" class="headerlink" title="配置"></a>配置</h3><p>在博客根目录的配置文件<code>_config.yml</code>中添加下列代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">lazyload</span>:</span><br><span class="line">  <span class="selector-tag">enable</span>: <span class="selector-tag">true</span></span><br><span class="line">  <span class="selector-tag">onlypost</span>: <span class="selector-tag">false</span> #是否只在文章中开启懒加载</span><br><span class="line">  # <span class="selector-tag">className</span>: #可选 <span class="selector-tag">e</span><span class="selector-class">.g</span>. <span class="selector-class">.J-lazyload-img</span></span><br><span class="line">  # loadingImg: #可选 eg. ./images/loading.png 作为图片未加载时的替代图片</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      实操记录
    
    </summary>
    
    
      <category term="blog" scheme="https://www.ling218.cn/categories/blog/"/>
    
    
      <category term="Next7.6" scheme="https://www.ling218.cn/tags/Next7-6/"/>
    
  </entry>
  
  <entry>
    <title>Valine 无法评论问题 访问被api域名白名单拒绝</title>
    <link href="https://www.ling218.cn/archives/7b2bb70c.html"/>
    <id>https://www.ling218.cn/archives/7b2bb70c.html</id>
    <published>2020-04-24T06:07:49.117Z</published>
    <updated>2020-04-24T06:08:38.114Z</updated>
    
    <content type="html"><![CDATA[<p>确保<strong>主题配置文件_config.yml</strong> Valine 配置正确的条件下。</p><p>我的问题是 Github pages HTTPS证书过期。</p><p>在leancloud的应用&gt;设置&gt;安全中心&gt;Web安全域名中只添加了带HTTPS证书的域名。</p><p>带上http证书的域名就解决问题了。但是却让我查找了很久的问题。</p><p>Web安全域名 例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.ling218.cn</span><br><span class="line">https:&#x2F;&#x2F;ling218.github.io</span><br><span class="line">http:&#x2F;&#x2F;www.ling218.cn</span><br><span class="line">http:&#x2F;&#x2F;ling218.github.io</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Valine 出现 Code 403: 访问被api域名白名单拒绝，请检查你的安全域名设置. 解决办法
    
    </summary>
    
    
      <category term="blog" scheme="https://www.ling218.cn/categories/blog/"/>
    
    
      <category term="Valine" scheme="https://www.ling218.cn/tags/Valine/"/>
    
  </entry>
  
  <entry>
    <title>适用于Linux的Windows子系统的中文化</title>
    <link href="https://www.ling218.cn/archives/d02e6c08.html"/>
    <id>https://www.ling218.cn/archives/d02e6c08.html</id>
    <published>2020-04-24T06:06:30.963Z</published>
    <updated>2020-04-24T06:30:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>中文化和用户环境定制</p><h2 id="中文化操作"><a href="#中文化操作" class="headerlink" title="中文化操作"></a>中文化操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 更新Linux系统</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y upgrade</span><br><span class="line">sudo apt-get -y dist-upgrade</span><br><span class="line"># 安装软件包</span><br><span class="line">sudo apt-get -y install task-chinese-t openssh-server openssh-client curl git </span><br><span class="line"># 中文环境设置</span><br><span class="line">sudo dpkg-reconfigure locales </span><br><span class="line">sudo update-locale --reset</span><br><span class="line">sudo update-locale LANG&#x3D;zh_CN.UTF-8 </span><br><span class="line"># 为Windows共享文件夹创建挂载点</span><br><span class="line">sudo mkdir &#x2F;mnt&#x2F;share</span><br></pre></td></tr></table></figure><h2 id="用户环境设置"><a href="#用户环境设置" class="headerlink" title="用户环境设置"></a>用户环境设置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 用户环境设置</span><br><span class="line">echo -e &quot;set number\nset tabstop&#x3D;4\nset list\nset listchars&#x3D;tab:&gt;_&quot; &gt; ~&#x2F;.vimrc</span><br><span class="line">echo -e &quot;location\nprogress-bar\nremote-time\nshow-error&quot; &gt; ~&#x2F;.curlrc</span><br><span class="line"># 启动SSH</span><br><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh start</span><br><span class="line"># 挂载Windows共享文件夹</span><br><span class="line">sudo mount -t drvfs &#39;\\server\share&#39; &#x2F;mnt&#x2F;share</span><br><span class="line"># 命令自动补全</span><br><span class="line">sudo apt-get install bash-completion</span><br><span class="line">cat &lt;&lt;EOF &gt; &#x2F;etc&#x2F;profile</span><br><span class="line">if [ -f &#x2F;etc&#x2F;bash_completion ]; then</span><br><span class="line">. &#x2F;etc&#x2F;bash_completion</span><br><span class="line">fi</span><br><span class="line">EOF</span><br><span class="line">## 使其生效</span><br><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure><h2 id="我的项目地址"><a href="#我的项目地址" class="headerlink" title="我的项目地址"></a>我的项目地址</h2><ul><li><a href="https://gitlab.com/ling218" target="_blank" rel="external nofollow noopener noreferrer">https://gitlab.com/ling218</a></li></ul>]]></content>
    
    <summary type="html">
    
      实操记录
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="shell" scheme="https://www.ling218.cn/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>使用 bash 脚本创建自定义的 Debian Live ISO</title>
    <link href="https://www.ling218.cn/archives/e7b274ff.html"/>
    <id>https://www.ling218.cn/archives/e7b274ff.html</id>
    <published>2020-04-24T06:06:30.955Z</published>
    <updated>2020-04-24T06:41:47.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h2><ul><li><a href="https://gitlab.com/ling218" target="_blank" rel="external nofollow noopener noreferrer">https://gitlab.com/ling218</a></li></ul><h2 id="操作环境"><a href="#操作环境" class="headerlink" title="操作环境"></a>操作环境</h2><ul><li>Debian 10 Buster</li></ul><h2 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h2><ul><li>user: root</li><li>passwd：toor</li><li>hostname: live</li><li>mirror: <a href="http://mirrors.ustc.edu.cn/debian/" target="_blank" rel="external nofollow noopener noreferrer">http://mirrors.ustc.edu.cn/debian/</a></li></ul><h2 id="运行方式"><a href="#运行方式" class="headerlink" title="运行方式"></a>运行方式</h2><ul><li><code>nano build.sh</code> #把下列脚本的内容复制到该脚本</li><li><code>chmod u+x build.sh</code></li><li><code>./build.sh</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#</span><br><span class="line"># Debian Live Image Custom</span><br><span class="line">#</span><br><span class="line"># Author: Mathias Fredriksson</span><br><span class="line"></span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line">IN_CHROOT&#x3D;0</span><br><span class="line">if [[ $1 &#x3D;&#x3D; chroot ]]; then</span><br><span class="line">IN_CHROOT&#x3D;1</span><br><span class="line">shift</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">SCRIPT&#x3D;&quot;$0&quot;</span><br><span class="line">MIRROR&#x3D;&quot;http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;debian&#x2F;&quot;</span><br><span class="line">#WORK&#x3D;$(mktemp -d -t live-image.XXXX)</span><br><span class="line">WORK&#x3D;$HOME&#x2F;build</span><br><span class="line">CHROOT&#x3D;&quot;$WORK&#x2F;chroot&quot;</span><br><span class="line">mkdir -p &quot;$WORK&quot;</span><br><span class="line"></span><br><span class="line">prepare() &#123;</span><br><span class="line">apt-get -y install \</span><br><span class="line">debootstrap \</span><br><span class="line">squashfs-tools \</span><br><span class="line">xorriso \</span><br><span class="line">grub-pc-bin \</span><br><span class="line">grub-efi-amd64-bin \</span><br><span class="line">mtools</span><br><span class="line"></span><br><span class="line">debootstrap \</span><br><span class="line">--arch&#x3D;amd64 \</span><br><span class="line">--variant&#x3D;minbase \</span><br><span class="line">stretch \</span><br><span class="line">&quot;$CHROOT&quot; \</span><br><span class="line">$MIRROR</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cont_in_chroot() &#123;</span><br><span class="line">local name</span><br><span class="line"></span><br><span class="line">name&#x3D;&quot;$(basename &quot;$SCRIPT&quot;)&quot;</span><br><span class="line">cp -a &quot;$SCRIPT&quot; &quot;$CHROOT&quot;</span><br><span class="line"></span><br><span class="line">mount --rbind &#x2F;dev &quot;$CHROOT&quot;&#x2F;dev</span><br><span class="line">mount --make-rslave &quot;$CHROOT&quot;&#x2F;dev</span><br><span class="line">mount --rbind &#x2F;proc &quot;$CHROOT&quot;&#x2F;proc</span><br><span class="line">mount --make-rslave &quot;$CHROOT&quot;&#x2F;proc</span><br><span class="line">mount --rbind &#x2F;sys &quot;$CHROOT&quot;&#x2F;sys</span><br><span class="line">mount --make-rslave &quot;$CHROOT&quot;&#x2F;sys</span><br><span class="line"></span><br><span class="line">chroot &quot;$CHROOT&quot; &#x2F;bin&#x2F;bash .&#x2F;&quot;$name&quot; chroot &quot;$@&quot;</span><br><span class="line"></span><br><span class="line"># Try to unmount a few times since this doesn&#39;t alway work on the first try...</span><br><span class="line">grep &quot;$CHROOT&quot; &#x2F;proc&#x2F;mounts | cut -f2 -d&quot; &quot; | sort -r | xargs umount -n || \</span><br><span class="line">grep &quot;$CHROOT&quot; &#x2F;proc&#x2F;mounts | cut -f2 -d&quot; &quot; | sort -r | xargs umount -n || \</span><br><span class="line">grep &quot;$CHROOT&quot; &#x2F;proc&#x2F;mounts | cut -f2 -d&quot; &quot; | sort -r | xargs umount -n</span><br><span class="line"></span><br><span class="line">rm &quot;$CHROOT&#x2F;$name&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chroot_prepare() &#123;</span><br><span class="line">echo live &gt; &#x2F;etc&#x2F;hostname</span><br><span class="line"></span><br><span class="line"># Set root password to &#39;live&#39;.</span><br><span class="line">echo $&#39;toor\ntoor&#39; | passwd root</span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get -y install --no-install-recommends \</span><br><span class="line">linux-image-amd64 \</span><br><span class="line">live-boot \</span><br><span class="line">systemd-sysv</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chroot_install_tools() &#123;</span><br><span class="line">cat &lt;&lt;-EOS &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;contrib-non-free.list</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;debian&#x2F; stretch main contrib non-free</span><br><span class="line">EOS</span><br><span class="line"></span><br><span class="line">apt update</span><br><span class="line">apt-get -y install --no-install-recommends \</span><br><span class="line">grub-pc-bin \</span><br><span class="line">grub-efi-amd64-bin \</span><br><span class="line">sudo \</span><br><span class="line">curl \</span><br><span class="line">hdparm \</span><br><span class="line">sdparm \</span><br><span class="line">pciutils \</span><br><span class="line">usbutils \</span><br><span class="line">dnsutils \</span><br><span class="line">moreutils \</span><br><span class="line">net-tools \</span><br><span class="line">dosfstools \</span><br><span class="line">openssh-server \</span><br><span class="line">openssh-client \</span><br><span class="line">nano \</span><br><span class="line">vim \</span><br><span class="line">zsh \</span><br><span class="line">lsof \</span><br><span class="line">lshw \</span><br><span class="line">less \</span><br><span class="line">rsync \</span><br><span class="line">smartmontools \</span><br><span class="line">intel-microcode \</span><br><span class="line">cryptsetup \</span><br><span class="line">lvm2 \</span><br><span class="line">mdadm</span><br><span class="line"></span><br><span class="line">chsh -s &#x2F;bin&#x2F;zsh</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chroot_install_zfs() &#123;</span><br><span class="line">cat &lt;&lt;-EOS &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;zfs.list</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; stretch-backports main contrib non-free</span><br><span class="line">EOS</span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get -y install dpkg-dev linux-headers-amd64</span><br><span class="line">apt-get -y install -t stretch-backports zfs-dkms</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chroot_finalize() &#123;</span><br><span class="line">apt-get clean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">finalize() &#123;</span><br><span class="line">mkdir -p &quot;$WORK&quot;&#x2F;&#123;scratch,image&#x2F;live&#125;</span><br><span class="line"></span><br><span class="line">mksquashfs \</span><br><span class="line">&quot;$CHROOT&quot; \</span><br><span class="line">&quot;$WORK&quot;&#x2F;image&#x2F;live&#x2F;filesystem.squashfs \</span><br><span class="line">-e boot</span><br><span class="line"></span><br><span class="line">cp &quot;$CHROOT&quot;&#x2F;boot&#x2F;vmlinuz-* &quot;$CHROOT&quot;&#x2F;boot&#x2F;initrd.img-* \</span><br><span class="line">&quot;$WORK&quot;&#x2F;image&#x2F;live</span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF &gt; &quot;$WORK&quot;&#x2F;scratch&#x2F;grub.cfg</span><br><span class="line">insmod all_video</span><br><span class="line">insmod play</span><br><span class="line">play 960 440 1 0 4 440 1</span><br><span class="line">if [ \$&#123;iso_path&#125; ] ; then</span><br><span class="line">  set loopback&#x3D;&quot;findiso&#x3D;\$&#123;iso_path&#125;&quot;</span><br><span class="line">fi</span><br><span class="line">search --set&#x3D;root --file &#x2F;DEBIAN_LIVE</span><br><span class="line">set default&#x3D;&quot;0&quot;</span><br><span class="line">set timeout&#x3D;5</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">(cd &quot;$CHROOT&quot;&#x2F;boot || exit 1</span><br><span class="line">for kernel in vmlinuz-*; do</span><br><span class="line">version&#x3D;$&#123;kernel#vmlinuz-&#125;</span><br><span class="line">cat &lt;&lt;EOF &gt;&gt; &quot;$WORK&quot;&#x2F;scratch&#x2F;grub.cfg</span><br><span class="line">menuentry &quot;Debian GNU&#x2F;Linux Live (kernel $version)&quot; &#123;</span><br><span class="line">  linux  &#x2F;live&#x2F;vmlinuz-$version boot&#x3D;live components &quot;\$&#123;loopback&#125;&quot;</span><br><span class="line">  initrd &#x2F;live&#x2F;initrd.img-$version</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">done</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># Create file used by grub to search for boot device.</span><br><span class="line">touch &quot;$WORK&quot;&#x2F;image&#x2F;DEBIAN_LIVE</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">create_iso() &#123;</span><br><span class="line">grub-mkstandalone \</span><br><span class="line">--format&#x3D;x86_64-efi \</span><br><span class="line">--output&#x3D;&quot;$WORK&quot;&#x2F;scratch&#x2F;bootx64.efi \</span><br><span class="line">--locales&#x3D;&quot;&quot; \</span><br><span class="line">--fonts&#x3D;&quot;&quot; \</span><br><span class="line">&quot;boot&#x2F;grub&#x2F;grub.cfg&#x3D;$WORK&#x2F;scratch&#x2F;grub.cfg&quot;</span><br><span class="line"></span><br><span class="line">(cd &quot;$WORK&quot;&#x2F;scratch</span><br><span class="line">dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;efiboot.img bs&#x3D;1M count&#x3D;10</span><br><span class="line">mkfs.vfat efiboot.img</span><br><span class="line">mmd -i efiboot.img efi efi&#x2F;boot</span><br><span class="line">mcopy -i efiboot.img .&#x2F;bootx64.efi ::efi&#x2F;boot&#x2F;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">grub-mkstandalone \</span><br><span class="line">--format&#x3D;i386-pc \</span><br><span class="line">--output&#x3D;&quot;$WORK&quot;&#x2F;scratch&#x2F;core.img \</span><br><span class="line">--install-modules&#x3D;&quot;linux normal iso9660 biosdisk memdisk search tar ls&quot; \</span><br><span class="line">--modules&#x3D;&quot;linux normal iso9660 biosdisk search&quot; \</span><br><span class="line">--locales&#x3D;&quot;&quot; \</span><br><span class="line">--fonts&#x3D;&quot;&quot; \</span><br><span class="line">&quot;boot&#x2F;grub&#x2F;grub.cfg&#x3D;$WORK&#x2F;scratch&#x2F;grub.cfg&quot;</span><br><span class="line"></span><br><span class="line">cat &#x2F;usr&#x2F;lib&#x2F;grub&#x2F;i386-pc&#x2F;cdboot.img &quot;$WORK&quot;&#x2F;scratch&#x2F;core.img \</span><br><span class="line">&gt; &quot;$WORK&quot;&#x2F;scratch&#x2F;bios.img</span><br><span class="line"></span><br><span class="line">xorriso \</span><br><span class="line">-as mkisofs \</span><br><span class="line">-iso-level 3 \</span><br><span class="line">-full-iso9660-filenames \</span><br><span class="line">-volid &quot;DEBIAN_LIVE&quot; \</span><br><span class="line">-eltorito-boot boot&#x2F;grub&#x2F;bios.img \</span><br><span class="line">-no-emul-boot \</span><br><span class="line">-boot-load-size 4 \</span><br><span class="line">-boot-info-table \</span><br><span class="line">--eltorito-catalog boot&#x2F;grub&#x2F;boot.cat \</span><br><span class="line">--grub2-boot-info \</span><br><span class="line">--grub2-mbr &#x2F;usr&#x2F;lib&#x2F;grub&#x2F;i386-pc&#x2F;boot_hybrid.img \</span><br><span class="line">-eltorito-alt-boot \</span><br><span class="line">-e EFI&#x2F;efiboot.img \</span><br><span class="line">-no-emul-boot \</span><br><span class="line">-append_partition 2 0xef &quot;$WORK&quot;&#x2F;scratch&#x2F;efiboot.img \</span><br><span class="line">-output &quot;$WORK&#x2F;ling218_linux.iso&quot; \</span><br><span class="line">-graft-points \</span><br><span class="line">&quot;$WORK&#x2F;image&quot; \</span><br><span class="line">&#x2F;boot&#x2F;grub&#x2F;bios.img&#x3D;&quot;$WORK&quot;&#x2F;scratch&#x2F;bios.img \</span><br><span class="line">&#x2F;EFI&#x2F;efiboot.img&#x3D;&quot;$WORK&quot;&#x2F;scratch&#x2F;efiboot.img</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (( IN_CHROOT )); then</span><br><span class="line">chroot_prepare</span><br><span class="line">chroot_install_tools</span><br><span class="line">chroot_install_zfs</span><br><span class="line">chroot_finalize</span><br><span class="line">exit 0</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">prepare</span><br><span class="line">cont_in_chroot &quot;$@&quot;</span><br><span class="line">finalize</span><br><span class="line">create_iso</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      实操记录
    
    </summary>
    
    
      <category term="live-build" scheme="https://www.ling218.cn/categories/live-build/"/>
    
    
      <category term="live" scheme="https://www.ling218.cn/tags/live/"/>
    
  </entry>
  
  <entry>
    <title>Debian 允许用户通过sudo仅运行特定命令</title>
    <link href="https://www.ling218.cn/archives/18f1a1f0.html"/>
    <id>https://www.ling218.cn/archives/18f1a1f0.html</id>
    <published>2020-04-24T05:55:51.039Z</published>
    <updated>2020-04-24T05:58:17.927Z</updated>
    
    <content type="html"><![CDATA[<p>执行下面命令实现：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username ALL&#x3D;(ALL) NOPASSWD:&#x2F;bin&#x2F;mkdir,&#x2F;bin&#x2F;rmdir</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Debian 允许用户通过sudo仅运行特定命令
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="sudo" scheme="https://www.ling218.cn/tags/sudo/"/>
    
  </entry>
  
  <entry>
    <title>Debian 系统老版本 iso 下载</title>
    <link href="https://www.ling218.cn/archives/b2adb537.html"/>
    <id>https://www.ling218.cn/archives/b2adb537.html</id>
    <published>2020-04-24T05:55:51.023Z</published>
    <updated>2020-04-24T05:58:17.951Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Debian-系统老版本-iso-下载"><a href="#Debian-系统老版本-iso-下载" class="headerlink" title="Debian 系统老版本 iso 下载"></a>Debian 系统老版本 iso 下载</h2><p>debian官方默认只提供最新的版本下载，有时需要找一些旧的版本的debian，着实费用。下面这个debian iso镜像站可以下载各个版本的debian下载：<a href="http://cdimage.debian.org/cdimage/archive/" target="_blank" rel="external nofollow noopener noreferrer">debian 系统各个版本ISO下载</a></p>]]></content>
    
    <summary type="html">
    
      Debian 系统老版本 iso 下载
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="iso" scheme="https://www.ling218.cn/tags/iso/"/>
    
  </entry>
  
  <entry>
    <title>Debian 使用 curl 获得外部 IP 地址（公网地址）</title>
    <link href="https://www.ling218.cn/archives/7cfdd891.html"/>
    <id>https://www.ling218.cn/archives/7cfdd891.html</id>
    <published>2020-04-24T05:55:51.003Z</published>
    <updated>2020-04-24T05:58:17.927Z</updated>
    
    <content type="html"><![CDATA[<p>执行下面命令获得：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># curl icanhazip.com   #速度快点</span><br><span class="line"># curl ipinfo.io&#x2F;ip   #速度稍慢</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Debian 使用 curl 获得外部 IP 地址（公网地址）
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="curl" scheme="https://www.ling218.cn/tags/curl/"/>
    
  </entry>
  
  <entry>
    <title>Debian/Ubuntu 最有用的 apt-get 命令详解</title>
    <link href="https://www.ling218.cn/archives/c4cc6c2d.html"/>
    <id>https://www.ling218.cn/archives/c4cc6c2d.html</id>
    <published>2020-04-24T05:55:50.987Z</published>
    <updated>2020-04-24T05:58:17.935Z</updated>
    
    <content type="html"><![CDATA[<h2 id="从软件仓库中安装软件包"><a href="#从软件仓库中安装软件包" class="headerlink" title="从软件仓库中安装软件包"></a>从软件仓库中安装软件包</h2><h3 id="apt-get-update"><a href="#apt-get-update" class="headerlink" title="apt-get update"></a>apt-get update</h3><p>在安装任何软件之前，我们最好是要更新本地软件包索引（package index）。本地软件包索引列出了软件仓库中所有可安装的软件包以及版本信息。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><blockquote><p>sudo 的在英语里的意思是switch user and do something。在Linux系统上，你需要root权限来安装和卸载软件包。sudo可以临时将你的用户ID切换为root。</p></blockquote><h3 id="apt-get-install"><a href="#apt-get-install" class="headerlink" title="apt-get install"></a>apt-get install</h3><p>apt-get install 是用来安装软件包的。你需要将软件包的名字添加到 apt-get install 之后。例如，你可以在Ubuntu系统上安装 vim文本编辑器。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim</span><br></pre></td></tr></table></figure><p>有时候apt-get会询问你是否真的要安装软件包。如果你想自动回答yes，可以在安装命令中添加 -y 选项。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y vim</span><br></pre></td></tr></table></figure><p>在你用apt-get install命令安装软件包之前，你需要知道这个软件包在软件仓库中的名称。这看起来有点麻烦。当你熟悉之后，你会感到非常方便。尤其是当你SSH远程管理Linux服务器的时候。</p><p>apt-get首先会从软件仓库中下载deb安装包，这些deb安装在/var/cache/apt/archives目录下。下载后，apt-get会自动安装软件包。</p><h3 id="一条命令安装多个软件包"><a href="#一条命令安装多个软件包" class="headerlink" title="一条命令安装多个软件包"></a>一条命令安装多个软件包</h3><p>apt-get install 可以一次性安装多个软件包，比如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install wireshark wget curl git</span><br></pre></td></tr></table></figure><h3 id="apt-get-upgrade"><a href="#apt-get-upgrade" class="headerlink" title="apt-get upgrade"></a>apt-get upgrade</h3><p>apt-get upgrade命令用来升级系统上可以升级的软件包。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure><p>apt-get 会告诉你哪些软件包会升级。并且询问你是否真的需要升级这些软件包。你可以在命令中添加 -y 选项来自动回答yes。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get -y upgrade</span><br></pre></td></tr></table></figure><h3 id="apt-get-remove"><a href="#apt-get-remove" class="headerlink" title="apt-get remove"></a>apt-get remove</h3><p>这条命令用来删除系统上的软件包，比如，删除Firefox</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove firefox</span><br></pre></td></tr></table></figure><p>但它不会删除软件包的配置文件。</p><h3 id="apt-get-purge"><a href="#apt-get-purge" class="headerlink" title="apt-get purge"></a>apt-get purge</h3><p>这条命令可以用来删除软件包及其配置文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge firefox</span><br></pre></td></tr></table></figure><h3 id="apt-get-clean"><a href="#apt-get-clean" class="headerlink" title="apt-get clean"></a>apt-get clean</h3><p>当apt-get安装或升级软件包时，它会将deb安装包下载到文件系统的<strong>/var/cache/apt/archives</strong>目录下。软件包安装完成后，这些deb安装包基本上就没有什么用处了。apt-get clean命令可以帮你删除这些deb安装包。</p><p>你可以使用下面的命令查看/var/cache/apt/archives目录下deb安装包的大小。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh &#x2F;var&#x2F;cache&#x2F;apt&#x2F;archives</span><br></pre></td></tr></table></figure><h3 id="apt-get-autoclean"><a href="#apt-get-autoclean" class="headerlink" title="apt-get autoclean"></a>apt-get autoclean</h3><p>apt-get autoclean也可以用来删除/var/cache/apt/archives目录下的deb安装包。但它只删除那些已经不能从软件仓库中下载的deb安装包。这就是说，Debian或Ubuntu已经不维护那些软件包了，或者那些软件包有了一个新的名字。</p><h3 id="apt-get-autoremove"><a href="#apt-get-autoremove" class="headerlink" title="apt-get autoremove"></a>apt-get autoremove</h3><p>这条命令用来删除不需要的依赖软件包。</p><h3 id="apt-get-dist-upgrade"><a href="#apt-get-dist-upgrade" class="headerlink" title="apt-get dist-upgrade"></a>apt-get dist-upgrade</h3><p>这条命令可能会让很多人感到困惑．在Debian系统上，你用这条命令升级系统版本，比如从Debian9升级到Debian10。但是在Ubuntu系统上，这条命令只会升级Linux内核以及之前没有被升级的软件包．升级Ubuntu的版本你需要用到do-release-upgrade命令。</p><h2 id="附：手动安装Deb软件包"><a href="#附：手动安装Deb软件包" class="headerlink" title="附：手动安装Deb软件包"></a>附：手动安装Deb软件包</h2><h3 id="dpkg-i"><a href="#dpkg-i" class="headerlink" title="dpkg -i"></a>dpkg -i</h3><p>如果你从网站上下载了一个deb软件包，那么你需要dpkg工具来安装这个deb包．例如，你可以下载WPS linux版。然后，在终端里将当前工作目录切换到下载目录，再输入下面的命令安装WPS  Linux版。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i wps-office*.deb</span><br></pre></td></tr></table></figure><h3 id="gdebi"><a href="#gdebi" class="headerlink" title="gdebi"></a>gdebi</h3><p>dpkg的一个缺点是它不能解决依赖关系。你必须手动安装依赖包。而gdebi可以帮助我们自动安装依赖包。输入下面的命令安装gdebi。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gdebi</span><br></pre></td></tr></table></figure><p>它的命令语法如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gdebi &lt;package.deb&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      apt-get是Debian、Ubuntu、Linux Mint、elementary OS、Kali Linux等Linux发行版的默认软件包管理器。本篇文章将介绍最一些实用的apt-get命令详解。
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="apt-get" scheme="https://www.ling218.cn/tags/apt-get/"/>
    
  </entry>
  
  <entry>
    <title>Debian/Ubuntu 安装 Typora</title>
    <link href="https://www.ling218.cn/archives/e3fe7203.html"/>
    <id>https://www.ling218.cn/archives/e3fe7203.html</id>
    <published>2020-04-24T05:55:50.959Z</published>
    <updated>2020-04-24T05:58:17.931Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装Typora"><a href="#安装Typora" class="headerlink" title="安装Typora"></a>安装Typora</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 添加typora仓库密钥</span><br><span class="line"># sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE</span><br><span class="line">wget -qO - https:&#x2F;&#x2F;typora.io&#x2F;linux&#x2F;public-key.asc | sudo apt-key add -</span><br><span class="line"></span><br><span class="line"># 把typora软件源添加到系统源文件 </span><br><span class="line">echo -e &quot;\ndeb https:&#x2F;&#x2F;typora.io&#x2F;linux .&#x2F;&quot; | sudo tee -a &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"># 安装typora</span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure><h2 id="升级Typora"><a href="#升级Typora" class="headerlink" title="升级Typora"></a>升级Typora</h2><p>安装Typora之后，<code>typora</code>软件包将受到管理<code>apt-get</code>，因此当您的系统更新已安装的软件包或执行时<code>apt-get upgrade</code>，Typora将更新为最新版本。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      markdown 编辑器
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="typora" scheme="https://www.ling218.cn/tags/typora/"/>
    
  </entry>
  
  <entry>
    <title>Debian 给用户添加 sudo 权限</title>
    <link href="https://www.ling218.cn/archives/c779294b.html"/>
    <id>https://www.ling218.cn/archives/c779294b.html</id>
    <published>2020-04-24T05:55:50.859Z</published>
    <updated>2020-04-24T05:58:17.959Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Linux-给用户添加-sudo-权限"><a href="#Linux-给用户添加-sudo-权限" class="headerlink" title="Linux 给用户添加 sudo 权限"></a>Linux 给用户添加 sudo 权限</h2><p>1、给 <code>/etc/sudoers</code> 添加写权限。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># chmod +w &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure><p>2、编辑 <code>/etc/sudoers</code> 文件，给 <strong>username</strong> 用户添加 sudo 权限。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username ALL&#x3D;(ALL) ALL</span><br></pre></td></tr></table></figure><p>3、去除 <code>/etc/sudoers</code> 写权限。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># chmod -w &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure><p>上面操作完成后，<strong>username</strong> 用户就拥有了sudo权限了。</p>]]></content>
    
    <summary type="html">
    
      Debian 给用户添加 sudo 权限
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="sudo" scheme="https://www.ling218.cn/tags/sudo/"/>
    
  </entry>
  
  <entry>
    <title>Linux 创建 sudo 用户</title>
    <link href="https://www.ling218.cn/archives/2a8b1abe.html"/>
    <id>https://www.ling218.cn/archives/2a8b1abe.html</id>
    <published>2020-04-24T05:55:50.843Z</published>
    <updated>2020-04-24T05:58:17.931Z</updated>
    
    <content type="html"><![CDATA[<p><code>sudo</code> 命令提供了临时使用root权限的机制，使普通用户可以执行超级管理员任务。</p><a id="more"></a><p>添加用户。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># adduser newuser</span><br></pre></td></tr></table></figure><p>设置用户密码。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># passwd newuser</span><br></pre></td></tr></table></figure><p>把新建用户加入sudo组。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># usermod -aG sudo newuser</span><br></pre></td></tr></table></figure><p>测试新用户sudo机制。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># su newuser</span><br><span class="line"># sudo apt update</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;sudo&lt;/code&gt; 命令提供了临时使用root权限的机制，使普通用户可以执行超级管理员任务。&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="sudo" scheme="https://www.ling218.cn/tags/sudo/"/>
    
  </entry>
  
  <entry>
    <title>Debian 安装 mate 桌面环境的方法</title>
    <link href="https://www.ling218.cn/archives/5eedfe66.html"/>
    <id>https://www.ling218.cn/archives/5eedfe66.html</id>
    <published>2020-04-24T05:55:50.827Z</published>
    <updated>2020-04-24T05:58:17.943Z</updated>
    
    <content type="html"><![CDATA[<p>mate是一个轻量级的桌面环境，占用系统资源非常少，正常使用下，大约占300MB左右，界面做得非常漂亮，本人十分喜爱，也是我最喜欢的桌面环境。安装了其他桌面(如：gnome) 后，怎么安装mate?</p><a id="more"></a><h2 id="操作步骤："><a href="#操作步骤：" class="headerlink" title="操作步骤："></a>操作步骤：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install task-mate-desktop  </span><br><span class="line">apt-get install mate-desktop-environment-extras  #完全安装mate及扩展部分</span><br></pre></td></tr></table></figure><p>执行命令后，网速不慢，几分钟就完事，注销选择mate，进入后即是mate了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;mate是一个轻量级的桌面环境，占用系统资源非常少，正常使用下，大约占300MB左右，界面做得非常漂亮，本人十分喜爱，也是我最喜欢的桌面环境。安装了其他桌面(如：gnome) 后，怎么安装mate?&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="mate" scheme="https://www.ling218.cn/tags/mate/"/>
    
  </entry>
  
  <entry>
    <title>Debian 安装 Google Chrome 浏览器</title>
    <link href="https://www.ling218.cn/archives/c945e1f0.html"/>
    <id>https://www.ling218.cn/archives/c945e1f0.html</id>
    <published>2020-04-24T05:55:50.803Z</published>
    <updated>2020-04-24T05:58:17.943Z</updated>
    
    <content type="html"><![CDATA[<p>1、首先需要下载并安装谷歌官方秘钥：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># wget -q -O - https:&#x2F;&#x2F;dl.google.com&#x2F;linux&#x2F;linux_signing_key.pub | sudo apt-key add -</span><br></pre></td></tr></table></figure><p>2、然后是添加谷歌官方软件源：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;deb http:&#x2F;&#x2F;dl.google.com&#x2F;linux&#x2F;chrome&#x2F;deb&#x2F; stable main&quot; | sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;google-chrome.list</span><br></pre></td></tr></table></figure><p>3、执行安装命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># apt-get update</span><br><span class="line"># apt-get -y install google-chrome-stable</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Debian 安装 Google Chrome 浏览器
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="chrome" scheme="https://www.ling218.cn/tags/chrome/"/>
    
  </entry>
  
  <entry>
    <title>Debian 10 如何将语言从英文更改为中文</title>
    <link href="https://www.ling218.cn/archives/d639a0f.html"/>
    <id>https://www.ling218.cn/archives/d639a0f.html</id>
    <published>2020-04-24T05:55:50.651Z</published>
    <updated>2020-04-24T05:58:17.923Z</updated>
    
    <content type="html"><![CDATA[<p>由于安装的是英文版 Debian 。我英语水平不怎么好，因此需要将默认语言改为中文。这篇文章向大家介绍如何将 Debian 10 Buster 的语言从英文更改为中文。</p><a id="more"></a><h2 id="Debian-10如何将语言从英文更改为中文"><a href="#Debian-10如何将语言从英文更改为中文" class="headerlink" title="Debian 10如何将语言从英文更改为中文"></a>Debian 10如何将语言从英文更改为中文</h2><ol><li>打开终端并登录 <strong>root</strong> 用户。</li><li>使用 <strong>nano</strong> 文本编辑器打开 <code>/etc/locale.gen</code> 文件。</li><li>如果你在安装的 Debian10 系统时将语言环境设为美国英语，在这个文件中：<strong>en_US.UTF-8 UTF-8</strong> 行首没有 <code>#</code> 符号。</li><li>要添加中文语言支持，找到 <strong>zh_CN</strong> 开头的那几行。在行首把这几行的 <code>#</code> 符号去掉。</li><li>保存文件后，在终端执行 <code>locale-gen</code> 命令。</li><li>打开Gnome设置面板，选择<strong>Region &amp; Language</strong>，双击<strong>Language</strong>，选择<strong>汉语</strong>。</li><li>重新登录 Debian10 系统。你将会看见<strong>将标准文件夹更新到当前语言吗？</strong>对话框。它是问你要不要将home目录下文件夹的语言也更改成中文。我的建议是这些文件夹要使用英文。所以点击<strong>保留旧的名称</strong>。</li></ol><p>现在Debian的界面语言是中文了，但是有些程序如iceweasal, icedove, libreoffice等需要安装专门的中文语言包。输入下面的命令为这些程序安装中文语言包。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y \</span><br><span class="line">chromium-l10n icedove-l10n-zh-cn \</span><br><span class="line">iceowl-l10n-zh-cn iceweasel-l10n-zh-cn \</span><br><span class="line">libreoffice-help-zh-cn libreoffice-l10n-zh-cn \</span><br><span class="line">debian-faq-zh-cn kicad-doc-zh-cn \</span><br><span class="line">openvanilla-imgeneric-data-zh-cn \</span><br><span class="line">texlive-lang-chinese</span><br></pre></td></tr></table></figure><p>完成以上操作，Debian10汉化工作完成。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;由于安装的是英文版 Debian 。我英语水平不怎么好，因此需要将默认语言改为中文。这篇文章向大家介绍如何将 Debian 10 Buster 的语言从英文更改为中文。&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="debian" scheme="https://www.ling218.cn/tags/debian/"/>
    
  </entry>
  
  <entry>
    <title>Bash 脚本 set 命令教程</title>
    <link href="https://www.ling218.cn/archives/19676771.html"/>
    <id>https://www.ling218.cn/archives/19676771.html</id>
    <published>2020-04-24T05:55:50.635Z</published>
    <updated>2020-04-24T05:58:18.111Z</updated>
    
    <content type="html"><![CDATA[<h1 id="bash-脚本-set-命令教程"><a href="#bash-脚本-set-命令教程" class="headerlink" title="bash 脚本 set 命令教程"></a>bash 脚本 set 命令教程</h1><p>服务器的开发和管理离不开 bash 脚本，掌握它需要学习大量的细节。</p><p>set 命令是bash脚本的重要环节，却常常被忽视，导致脚本的安全性和可维护性出问题。</p><p>本文介绍它的基本用法，让你可以更安心地使用 Bash 脚本。</p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>我们知道，Bash 执行脚本的时候，会创建一个新的 Shell。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br></pre></td></tr></table></figure><p>上面代码中，<code>script.sh</code>是在一个新的 Shell 里面执行。这个 Shell 就是脚本的执行环境，Bash 默认给定了这个环境的各种参数。</p><p><code>set</code>命令用来修改 Shell 环境的运行参数，也就是可以定制环境。一共有十几个参数可以定制，<a href="https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html" target="_blank" rel="external nofollow noopener noreferrer">官方手册</a>有完整清单，本文介绍其中最常用的四个。</p><p>顺便提一下，如果命令行下不带任何参数，直接运行<code>set</code>，会显示所有的环境变量和 Shell 函数。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">set</span></span><br></pre></td></tr></table></figure><h2 id="set-u"><a href="#set-u" class="headerlink" title="set -u"></a>set -u</h2><p>执行脚本的时候，如果遇到不存在的变量，Bash 默认忽略它。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>上面代码中，<code>$a</code>是一个不存在的变量。执行结果如下。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line"></span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>可以看到，<code>echo $a</code>输出了一个空行，Bash 忽略了不存在的<code>$a</code>，然后继续执行<code>echo bar</code>。大多数情况下，这不是开发者想要的行为，遇到变量不存在，脚本应该报错，而不是一声不响地往下执行。</p><p><code>set -u</code>就用来改变这种行为。脚本在头部加上它，遇到不存在的变量就会报错，并停止执行。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">set</span> -u</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>运行结果如下。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">bash: script.sh:行4: a: 未绑定的变量</span><br></pre></td></tr></table></figure><p>可以看到，脚本报错了，并且不再执行后面的语句。</p><p><code>-u</code>还有另一种写法<code>-o nounset</code>，两者是等价的。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -o nounset</span><br></pre></td></tr></table></figure><h2 id="set-x"><a href="#set-x" class="headerlink" title="set -x"></a>set -x</h2><p>默认情况下，脚本执行后，屏幕只显示运行结果，没有其他内容。如果多个命令连续执行，它们的运行结果就会连续输出。有时会分不清，某一段内容是什么命令产生的。</p><p><code>set -x</code>用来在运行结果之前，先输出执行的那一行命令。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">set</span> -x</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>执行上面的脚本，结果如下。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">+ <span class="built_in">echo</span> bar</span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>可以看到，执行<code>echo bar</code>之前，该命令会先打印出来，行首以<code>+</code>表示。这对于调试复杂的脚本是很有用的。</p><p><code>-x</code>还有另一种写法<code>-o xtrace</code>。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -o xtrace</span><br></pre></td></tr></table></figure><h2 id="Bash-的错误处理"><a href="#Bash-的错误处理" class="headerlink" title="Bash 的错误处理"></a>Bash 的错误处理</h2><p>如果脚本里面有运行失败的命令（返回值非0），Bash 默认会继续执行后面的命令。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">foo</span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>上面脚本中，<code>foo</code>是一个不存在的命令，执行时会报错。但是，Bash 会忽略这个错误，继续往下执行。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">script.sh:行3: foo: 未找到命令</span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>可以看到，Bash 只是显示有错误，并没有终止执行。</p><p>这种行为很不利于脚本安全和除错。实际开发中，如果某个命令失败，往往需要脚本停止执行，防止错误累积。这时，一般采用下面的写法。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span> || <span class="built_in">exit</span> 1</span><br></pre></td></tr></table></figure><p>上面的写法表示只要<code>command</code>有非零返回值，脚本就会停止执行。</p><p>如果停止执行之前需要完成多个操作，就要采用下面三种写法。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写法一</span></span><br><span class="line"><span class="built_in">command</span> || &#123; <span class="built_in">echo</span> <span class="string">"command failed"</span>; <span class="built_in">exit</span> 1; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写法二</span></span><br><span class="line"><span class="keyword">if</span> ! <span class="built_in">command</span>; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"command failed"</span>; <span class="built_in">exit</span> 1; <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写法三</span></span><br><span class="line"><span class="built_in">command</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"$?"</span> -ne 0 ]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"command failed"</span>; <span class="built_in">exit</span> 1; <span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>另外，除了停止执行，还有一种情况。如果两个命令有继承关系，只有第一个命令成功了，才能继续执行第二个命令，那么就要采用下面的写法。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 &amp;&amp; command2</span><br></pre></td></tr></table></figure><h2 id="set-e"><a href="#set-e" class="headerlink" title="set -e"></a>set -e</h2><p>上面这些写法多少有些麻烦，容易疏忽。<code>set -e</code>从根本上解决了这个问题，它使得脚本只要发生错误，就终止执行。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line">foo</span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>执行结果如下。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">script.sh:行4: foo: 未找到命令</span><br></pre></td></tr></table></figure><p>可以看到，第4行执行失败以后，脚本就终止执行了。</p><p><code>set -e</code>根据返回值来判断，一个命令是否运行失败。但是，某些命令的非零返回值可能不表示失败，或者开发者希望在命令失败的情况下，脚本继续执行下去。这时可以暂时关闭<code>set -e</code>，该命令执行结束后，再重新打开<code>set -e</code>。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> +e</span><br><span class="line">command1</span><br><span class="line">command2</span><br><span class="line"><span class="built_in">set</span> -e</span><br></pre></td></tr></table></figure><p>上面代码中，<code>set +e</code>表示关闭<code>-e</code>选项，<code>set -e</code>表示重新打开<code>-e</code>选项。</p><p>还有一种方法是使用<code>command || true</code>，使得该命令即使执行失败，脚本也不会终止执行。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line">foo || <span class="literal">true</span></span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>上面代码中，<code>true</code>使得这一行语句总是会执行成功，后面的<code>echo bar</code>会执行。</p><p><code>-e</code>还有另一种写法<code>-o errexit</code>。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -o errexit</span><br></pre></td></tr></table></figure><h2 id="set-o-pipefail"><a href="#set-o-pipefail" class="headerlink" title="set -o pipefail"></a>set -o pipefail</h2><p><code>set -e</code>有一个例外情况，就是不适用于管道命令。</p><p>所谓管道命令，就是多个子命令通过管道运算符（<code>|</code>）组合成为一个大的命令。Bash 会把最后一个子命令的返回值，作为整个命令的返回值。也就是说，只要最后一个子命令不失败，管道命令总是会执行成功，因此它后面命令依然会执行，<code>set -e</code>就失效了。</p><p>请看下面这个例子。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line">foo | <span class="built_in">echo</span> a</span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>执行结果如下。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">a</span><br><span class="line">script.sh:行4: foo: 未找到命令</span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>上面代码中，<code>foo</code>是一个不存在的命令，但是<code>foo | echo a</code>这个管道命令会执行成功，导致后面的<code>echo bar</code>会继续执行。</p><p><code>set -o pipefail</code>用来解决这种情况，只要一个子命令失败，整个管道命令就失败，脚本就会终止执行。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">set</span> -eo pipefail</span><br><span class="line"></span><br><span class="line">foo | <span class="built_in">echo</span> a</span><br><span class="line"><span class="built_in">echo</span> bar</span><br></pre></td></tr></table></figure><p>运行后，结果如下。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">a</span><br><span class="line">script.sh:行4: foo: 未找到命令</span><br></pre></td></tr></table></figure><p>可以看到，<code>echo bar</code>没有执行。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><code>set</code>命令的上面这四个参数，一般都放在一起使用。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写法一</span></span><br><span class="line"><span class="built_in">set</span> -euxo pipefail</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写法二</span></span><br><span class="line"><span class="built_in">set</span> -eux</span><br><span class="line"><span class="built_in">set</span> -o pipefail</span><br></pre></td></tr></table></figure><p>这两种写法建议放在所有 Bash 脚本的头部。</p><p>另一种办法是在执行 Bash 脚本的时候，从命令行传入这些参数。</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bash -euxo pipefail script.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      set 命令是bash脚本的重要环节，却常常被忽视，导致脚本的安全性和可维护性出问题
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="bash" scheme="https://www.ling218.cn/tags/bash/"/>
    
  </entry>
  
  <entry>
    <title>Apt-get 常用示例</title>
    <link href="https://www.ling218.cn/archives/578d7cdf.html"/>
    <id>https://www.ling218.cn/archives/578d7cdf.html</id>
    <published>2020-04-24T05:55:50.535Z</published>
    <updated>2020-04-24T05:58:18.107Z</updated>
    
    <content type="html"><![CDATA[<p>是Debian及其派生的Linux软件包管理器。在Debian系统中，APT建构于dpkg之上。APT的软件安装来源在Debian安装的时候即可进行初始设置，除了Debian官方的网络安装来源之外，也可以使用Debian的安装光盘，甚至可以从非官方的安装来源中下载非官方的软件。APT同时也可以从一些安装来源中下载源代码软件，并且自行编译、安装。</p><a id="more"></a><p>注意：’xyz’只是一个占位符。</p><h2 id="系统更新"><a href="#系统更新" class="headerlink" title="系统更新"></a>系统更新</h2><ul><li><code>apt-get update</code> 下载新的软件包列表。</li><li><code>apt-get upgrade</code> 安装您拥有的软件包的较新版本。</li><li><code>apt-get dist-upgrade</code> 在先前的命令中执行升级，并智能地处理新版本软件包的依赖关系，并在必要时尝试以不重要的软​​件包为代价来升级最重要的软件包；有时在极少数必要的情况下删除软件包。</li></ul><h2 id="软件包搜索和软件包信息"><a href="#软件包搜索和软件包信息" class="headerlink" title="软件包搜索和软件包信息"></a>软件包搜索和软件包信息</h2><ul><li><code>apt-cache pkgnames</code> 列出所有可用的软件包。</li><li><code>apt-cache xyz</code> 搜索软件包。</li><li><code>apt-cache search xyz</code> 搜索包含说明的结果的软件包。</li><li><code>apt-cache pkgnames xyz</code> 列出所有以“ xyz”开头的软件包。</li><li><code>apt-cache show xyz</code> 检查包装信息。</li><li><code>apt-cache showpkg xyz</code> 检查软件包的依赖关系。</li><li><code>apt-cache stats</code> 显示有关缓存的整体统计信息。</li></ul><h2 id="软件包安装和删除"><a href="#软件包安装和删除" class="headerlink" title="软件包安装和删除"></a>软件包安装和删除</h2><ul><li><code>apt-get download xyz</code> 仅将软件包下载到当前工作目录。</li><li><code>apt-get install xyz</code> 下载并安装软件包。通过在第一个软件包之后拥有所需的多个软件包来安装。</li><li><code>apt-get install xyz --no-upgrade</code> 将软件包标记为永不升级。</li><li><code>apt-get install xyz --only-upgrade</code> 仅升级指定的软件包，并禁用软件包的新安装。</li><li><code>apt-get install &#39;*name*&#39;</code> 使用<em>通配符将安装几个包含’</em> name *’字符串的软件包，如软件包名称中所示。</li><li><code>apt-get changelog xyz</code> 下载软件包更改日志并显示已安装的软件包版本。</li><li><code>apt-get check</code> 检查损坏的依赖关系。</li><li><code>apt-get remove xyz</code> 卸载软件包。</li><li><code>apt-get purge xyz</code> 删除软件包中剩余的配置文件。</li><li><code>apt-get autoremove</code> 删除孤立的软件包。</li><li><code>apt-get clean</code> 删除下载的deb文件。</li><li><code>apt-get autoclean</code> 删除已下载的无法再下载的deb文件。</li></ul><h2 id="源代码包"><a href="#源代码包" class="headerlink" title="源代码包"></a>源代码包</h2><ul><li><code>apt-get source xyz</code> 将包的源代码下载并解压缩到目录中。</li><li><code>apt-get build-dep xyz</code> 下载并安装软件包的构建依赖项。</li><li><code>apt-get --compile source xyz</code> 下载，解压缩和编译源代码。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;是Debian及其派生的Linux软件包管理器。在Debian系统中，APT建构于dpkg之上。APT的软件安装来源在Debian安装的时候即可进行初始设置，除了Debian官方的网络安装来源之外，也可以使用Debian的安装光盘，甚至可以从非官方的安装来源中下载非官方的软件。APT同时也可以从一些安装来源中下载源代码软件，并且自行编译、安装。&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="apt-get" scheme="https://www.ling218.cn/tags/apt-get/"/>
    
  </entry>
  
  <entry>
    <title>Apt-get 安装软件包过程被强制中断后</title>
    <link href="https://www.ling218.cn/archives/b9cfb6eb.html"/>
    <id>https://www.ling218.cn/archives/b9cfb6eb.html</id>
    <published>2020-04-24T05:55:50.511Z</published>
    <updated>2020-04-24T05:58:18.103Z</updated>
    
    <content type="html"><![CDATA[<p>apt-get 操作被强行中断后，会出现无法进行新的安装和删除的情况只是提示您使用apt-get -f install来解决问题，但实际上，你按它的提示操作却解决不了任何问题。</p><a id="more"></a><p>这时你需要这样做：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># sudo dpkg --configure -a</span><br><span class="line"># sudo apt-get update</span><br><span class="line"># sudo apt-get install -f</span><br><span class="line"># sudo apt-get autoremove </span><br><span class="line"># sudo apt-get upgrade</span><br></pre></td></tr></table></figure><p>如果还有一些有问题的软件包可以用下面这个命令干掉它：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># dpkg -r pack</span><br></pre></td></tr></table></figure><p><code>-r</code> 选项：移除软件包（保留配置）</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;apt-get 操作被强行中断后，会出现无法进行新的安装和删除的情况只是提示您使用apt-get -f install来解决问题，但实际上，你按它的提示操作却解决不了任何问题。&lt;/p&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="apt-get" scheme="https://www.ling218.cn/tags/apt-get/"/>
    
  </entry>
  
  <entry>
    <title>制作自己的 Debian livecd</title>
    <link href="https://www.ling218.cn/archives/fa204dda.html"/>
    <id>https://www.ling218.cn/archives/fa204dda.html</id>
    <published>2020-04-24T05:55:50.435Z</published>
    <updated>2020-04-24T05:58:18.215Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装需要的软件包"><a href="#安装需要的软件包" class="headerlink" title="安装需要的软件包"></a>安装需要的软件包</h2><p><code>注意：</code> <code>#</code>号表示以 <code>root</code> 身份执行，下同。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># apt-get install \</span><br><span class="line">isolinux \</span><br><span class="line">syslinux \</span><br><span class="line">xorriso \</span><br><span class="line">debootstrap \</span><br><span class="line">squashfs-tools</span><br></pre></td></tr></table></figure><h2 id="创建工作目录"><a href="#创建工作目录" class="headerlink" title="创建工作目录"></a>创建工作目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir ～&#x2F;livecd</span><br></pre></td></tr></table></figure><p>##下载Debian安装镜像，取得必要的引导及配置文件<br>Debian安装镜像可以从 <a href="http://mirrors.ustc.edu.cn/debian-cd/current/amd64/iso-cd/" target="_blank" rel="external nofollow noopener noreferrer">这儿</a> 下载，得到文件 <code>debian-8.7.1-amd64-CD-1.iso</code> 。然后执行命令，将该文件挂载到系统中。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount debian-8.7.1-amd64-CD-1.iso &#x2F;mnt</span><br></pre></td></tr></table></figure><p>然后拷贝其中的 <code>boot</code> 目录和 <code>isolinux</code> 目录到工作目录 <code>~/livecd</code> 中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cp -rv &#x2F;mnt&#x2F;boot ~&#x2F;livecd</span><br><span class="line"># cp -rv &#x2F;mnt&#x2F;isolinux ~&#x2F;livecd</span><br></pre></td></tr></table></figure><p>然后修要分别修改配置文件 <code>~/livecd/boot/grub/grub.cfg</code> 和 <code>isolinux/isolinux.cfg</code> 内容如下：</p><h3 id="grub-cfg"><a href="#grub-cfg" class="headerlink" title="grub.cfg"></a>grub.cfg</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">if loadfont $prefix&#x2F;font.pf2 ; then</span><br><span class="line">  set gfxmode&#x3D;800x600</span><br><span class="line">  insmod efi_gop</span><br><span class="line">  insmod efi_uga</span><br><span class="line">  insmod video_bochs</span><br><span class="line">  insmod video_cirrus</span><br><span class="line">  insmod gfxterm</span><br><span class="line">  insmod png</span><br><span class="line">  terminal_output gfxterm</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if background_image &#x2F;isolinux&#x2F;splash.png; then</span><br><span class="line">  set color_normal&#x3D;light-gray&#x2F;black</span><br><span class="line">  set color_highlight&#x3D;white&#x2F;black</span><br><span class="line">else</span><br><span class="line">  set menu_color_normal&#x3D;cyan&#x2F;blue</span><br><span class="line">  set menu_color_highlight&#x3D;white&#x2F;blue</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">insmod play</span><br><span class="line">play 480 440 1</span><br><span class="line">set timeout&#x3D;0</span><br><span class="line">menuentry --hotkey&#x3D;i &#39;Install&#39; &#123;</span><br><span class="line">    set background_color&#x3D;black</span><br><span class="line">    linux    &#x2F;vmlinuz vga&#x3D;788 boot&#x3D;live quiet</span><br><span class="line">    initrd   &#x2F;initrd</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="isolinux-cfg"><a href="#isolinux-cfg" class="headerlink" title="isolinux.cfg"></a>isolinux.cfg</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># D-I config version 2.0</span><br><span class="line"># search path for the c32 support libraries (libcom32, libutil etc.)</span><br><span class="line">path </span><br><span class="line">menu hshift 7</span><br><span class="line">menu width 61</span><br><span class="line"></span><br><span class="line">menu title Debian GNU&#x2F;Linux installer boot menu</span><br><span class="line">menu background splash.png</span><br><span class="line">menu color title* #FFFFFFFF *</span><br><span class="line">menu color border* #00000000 #00000000 none</span><br><span class="line">menu color sel* #ffffffff #76a1d0ff *</span><br><span class="line">menu color hotsel1;7;37;40 #ffffffff #76a1d0ff *</span><br><span class="line">menu color tabmsg* #ffffffff #00000000 *</span><br><span class="line">menu color help37;40 #ffdddd00 #00000000 none</span><br><span class="line"># XXX When adjusting vshift, take care that rows is set to a small</span><br><span class="line"># enough value so any possible menu will fit on the screen,</span><br><span class="line"># rather than falling off the bottom.</span><br><span class="line">menu vshift 12</span><br><span class="line">menu rows 10</span><br><span class="line">menu helpmsgrow 15</span><br><span class="line"># The command line must be at least one line from the bottom.</span><br><span class="line">menu cmdlinerow 16</span><br><span class="line">menu timeoutrow 16</span><br><span class="line">menu tabmsgrow 18</span><br><span class="line">menu tabmsg Press ENTER to boot or TAB to edit a menu entry</span><br><span class="line">default install</span><br><span class="line">label install</span><br><span class="line">menu label ^Install</span><br><span class="line">menu default</span><br><span class="line">kernel &#x2F;vmlinuz</span><br><span class="line">append vga&#x3D;788 initrd&#x3D;&#x2F;initrd boot&#x3D;live quiet</span><br><span class="line"></span><br><span class="line">#default vesamenu.c32</span><br><span class="line">default install</span><br><span class="line">prompt 0</span><br><span class="line">timeout 0</span><br></pre></td></tr></table></figure><h2 id="用debootstrap构建一个最小环境"><a href="#用debootstrap构建一个最小环境" class="headerlink" title="用debootstrap构建一个最小环境"></a>用debootstrap构建一个最小环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd ~&#x2F;livecd &amp;&amp; su -</span><br><span class="line"># debootstrap --include&#x3D;linux-image-amd64,live-boot --component&#x3D;main,contrib,non-free --arch&#x3D;amd64 rootfs sid http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F;</span><br></pre></td></tr></table></figure><p>然后 <code>chroot</code> 进入这个最小环境中，做一些定制工作，包括修改root密码，hostname，安装软件，创建用户什么的，这一步我就不展开讲了，根据你自己的需求定制即可。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># chroot rootfs &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><h2 id="将linux内核和initrd复制到工作目录的最顶层"><a href="#将linux内核和initrd复制到工作目录的最顶层" class="headerlink" title="将linux内核和initrd复制到工作目录的最顶层"></a>将linux内核和initrd复制到工作目录的最顶层</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cd ~&#x2F;livecd</span><br><span class="line"># cp rootfs&#x2F;boot&#x2F;linuz-*-amd64 vmlinuz</span><br><span class="line"># cp rootfs&#x2F;boot&#x2F;initrd.img* initrd</span><br></pre></td></tr></table></figure><h2 id="构建squashfs压缩文件"><a href="#构建squashfs压缩文件" class="headerlink" title="构建squashfs压缩文件"></a>构建squashfs压缩文件</h2><p>进入工作目录 <code>~/livecd</code> 创建新目录 <code>live</code> 然后把刚才得到的 <code>rootfs</code> 目录压缩成squashfs格式的文件放在 <code>live</code>目录下，重命名为<code>filesystem.squashfs</code>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mkdir live</span><br><span class="line"># mksquashfs rootfs live&#x2F;filesystem.squashfs</span><br></pre></td></tr></table></figure><p>然后删除 <code>rootfs</code> 目录即可，或者把他移到其他地方，以备多次对 <code>LiveCD</code> 进行修改。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rm -rf rootfs</span><br></pre></td></tr></table></figure><h2 id="构建iso文件"><a href="#构建iso文件" class="headerlink" title="构建iso文件"></a>构建iso文件</h2><p>最后一步就是构建定制的 <code>LiveCD</code>，这一步我们使用 <code>xorriso</code> 这个工具来进行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># cd livecd</span><br><span class="line"># xorriso -as mkisofs -r -V &#39;LiveCD&#39; \</span><br><span class="line">    -J -isohybrid-mbr &#x2F;usr&#x2F;lib&#x2F;ISOLINUX&#x2F;isohdpfx.bin \</span><br><span class="line">    -J -joliet-long  \</span><br><span class="line">    -b isolinux&#x2F;isolinux.bin -c isolinux&#x2F;boot.cat -no-emul-boot \</span><br><span class="line">    -boot-load-size 4 -boot-info-table -eltorito-alt-boot \</span><br><span class="line">    -e boot&#x2F;grub&#x2F;efi.img -no-emul-boot -isohybrid-gpt-basdat -isohybrid-apm-hfsplus livecd&#x2F;  \</span><br><span class="line">    -o livecd.iso</span><br></pre></td></tr></table></figure><p>完成之后，我们会得到一个 <code>livecd.iso</code> 的文件，这个就是我们制作出的 <code>LiveCD</code> ，可以把它dd到U盘中使用了。</p><h2 id="文章地址"><a href="#文章地址" class="headerlink" title="文章地址"></a>文章地址</h2><ul><li><a href="https://forums.debiancn.org/t/debian-livecd/582（**Debian" target="_blank" rel="external nofollow noopener noreferrer">https://forums.debiancn.org/t/debian-livecd/582（**Debian</a> 中文论坛**）</li></ul>]]></content>
    
    <summary type="html">
    
      首先，Debian 官方是提供了 LiveCD 的，但是存在一些问题，其中一个最大的问题，就是不支持UEFI启动，另外官方提供的 LiveCD 总是没有自己定制过的顺手，所以在这儿讲解一下如何创建一个自定义的 Debian LiveCD。
    
    </summary>
    
    
      <category term="live-build" scheme="https://www.ling218.cn/categories/live-build/"/>
    
    
      <category term="live-build" scheme="https://www.ling218.cn/tags/live-build/"/>
    
  </entry>
  
  <entry>
    <title>自定义 Ubuntu Server 16.04.2 安装 iso</title>
    <link href="https://www.ling218.cn/archives/cf3baf5f.html"/>
    <id>https://www.ling218.cn/archives/cf3baf5f.html</id>
    <published>2020-04-24T05:55:50.415Z</published>
    <updated>2020-04-24T05:58:18.215Z</updated>
    
    <content type="html"><![CDATA[<h2 id="下载-Ubuntu-Server-16-04-2-ISO"><a href="#下载-Ubuntu-Server-16-04-2-ISO" class="headerlink" title="下载 Ubuntu Server 16.04.2 ISO"></a>下载 Ubuntu Server 16.04.2 ISO</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;debian.linux.org.tw&#x2F;ubuntu-releases&#x2F;16.04.2&#x2F;ubuntu-16.04.2-server-amd64.iso**</span><br></pre></td></tr></table></figure><h2 id="挂载光盘"><a href="#挂载光盘" class="headerlink" title="挂载光盘"></a>挂载光盘</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o loop ubuntu-16.04.2-server-amd64.iso &#x2F;mnt</span><br></pre></td></tr></table></figure><h2 id="复制目录"><a href="#复制目录" class="headerlink" title="复制目录"></a>复制目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~&#x2F;Ubuntu16042</span><br><span class="line">cp -a &#x2F;mnt&#x2F;* ~&#x2F;Ubuntu16042</span><br><span class="line">cp -r &#x2F;mnt&#x2F;.disk ~&#x2F;Ubuntu16042</span><br></pre></td></tr></table></figure><h2 id="修改-Ubuntu16042-isolinux-txt-cfg"><a href="#修改-Ubuntu16042-isolinux-txt-cfg" class="headerlink" title="修改 ~/Ubuntu16042/isolinux/txt.cfg"></a>修改 ~/Ubuntu16042/isolinux/txt.cfg</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;Ubuntu16042&#x2F;isolinux&#x2F;txt.cfg</span><br><span class="line"></span><br><span class="line">default ainstall</span><br><span class="line">label ainstall</span><br><span class="line"> menu label ^Auto Install Ubuntu Server</span><br><span class="line"> kernel &#x2F;install&#x2F;vmlinuz</span><br><span class="line"> append file&#x3D;&#x2F;cdrom&#x2F;preseed&#x2F;aubuntu-server.seed vga&#x3D;788 initrd&#x3D;&#x2F;install&#x2F;initrd.gz quiet debian-installer&#x2F;language&#x3D;en debian-installer&#x2F;country&#x3D;TW console-setup&#x2F;ask_detect&#x3D;false keyboard-configuration&#x2F;layoutcode&#x3D;us debian-installer&#x2F;locale&#x3D;en_US ---</span><br><span class="line">label install</span><br><span class="line"> menu label ^Install Ubuntu Server</span><br><span class="line"> kernel &#x2F;install&#x2F;vmlinuz</span><br><span class="line"> append file&#x3D;&#x2F;cdrom&#x2F;preseed&#x2F;ubuntu-server.seed vga&#x3D;788 initrd&#x3D;&#x2F;install&#x2F;initrd.gz quiet ---</span><br></pre></td></tr></table></figure><h2 id="建立-Ubuntu16042-preseed-aubuntu-server-seed"><a href="#建立-Ubuntu16042-preseed-aubuntu-server-seed" class="headerlink" title="建立 ~/Ubuntu16042/preseed/aubuntu-server.seed"></a>建立 ~/Ubuntu16042/preseed/aubuntu-server.seed</h2><h3 id="准备安装-LAMP-OpenSSH-Server"><a href="#准备安装-LAMP-OpenSSH-Server" class="headerlink" title="准备安装 LAMP / OpenSSH Server"></a>准备安装 LAMP / OpenSSH Server</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;Ubuntu16042&#x2F;preseed&#x2F;aubuntu-server.seed</span><br><span class="line"></span><br><span class="line">d-i debian-installer&#x2F;locale string en_US.UTF-8</span><br><span class="line">d-i debian-installer&#x2F;locale string en_US</span><br><span class="line">d-i console-setup&#x2F;ask_detect boolean false</span><br><span class="line">d-i console-setup&#x2F;layout string USA</span><br><span class="line">d-i debian-installer&#x2F;language string en</span><br><span class="line">d-i debian-installer&#x2F;country string TW</span><br><span class="line">d-i console-setup&#x2F;ask_detect boolean false</span><br><span class="line">d-i keyboard-configuration&#x2F;xkb-keymap select us </span><br><span class="line">Default user, change</span><br><span class="line">d-i passwd&#x2F;root-login boolean true</span><br><span class="line">d-i passwd&#x2F;make-user boolean false</span><br><span class="line">d-i user-setup&#x2F;encrypt-home boolean false</span><br><span class="line">d-i user-setup&#x2F;allow-password-weak boolean true</span><br><span class="line">d-i netcfg&#x2F;choose_interface select auto</span><br><span class="line">d-i netcfg&#x2F;get_hostname string unassigned-hostname</span><br><span class="line">d-i netcfg&#x2F;get_domain string unassigned-domain</span><br><span class="line">d-i mirror&#x2F;country string manual</span><br><span class="line">d-i mirror&#x2F;http&#x2F;hostname string http:&#x2F;&#x2F;tw.archive.ubuntu.com</span><br><span class="line">d-i mirror&#x2F;http&#x2F;hostname string http:&#x2F;&#x2F;free.nchc.org.tw</span><br><span class="line">d-i mirror&#x2F;http&#x2F;directory string &#x2F;ubuntu</span><br><span class="line">d-i apt-setup&#x2F;services-select multiselect security</span><br><span class="line">d-i apt-setup&#x2F;security_host string free.nchc.org.tw</span><br><span class="line">d-i apt-setup&#x2F;security_path string &#x2F;ubuntu</span><br><span class="line">d-i mirror&#x2F;http&#x2F;proxy string</span><br><span class="line">d-i clock-setup&#x2F;utc boolean false</span><br><span class="line">d-i clock-setup&#x2F;ntp boolean true</span><br><span class="line">d-i time&#x2F;zone string Asia&#x2F;Taipei</span><br><span class="line">d-i partman&#x2F;confirm boolean true</span><br><span class="line">d-i partman&#x2F;choose_partition select finish</span><br><span class="line">d-i partman&#x2F;confirm_nooverwrite boolean true</span><br><span class="line">d-i partman-auto&#x2F;disk string &#x2F;dev&#x2F;[sv]da</span><br><span class="line">d-i partman-auto&#x2F;method string lvm</span><br><span class="line">d-i partman-auto&#x2F;choose_recipe select atomic</span><br><span class="line">d-i partman-lvm&#x2F;device_remove_lvm boolean true</span><br><span class="line">d-i partman-lvm&#x2F;confirm boolean true</span><br><span class="line">d-i partman-lvm&#x2F;confirm_nooverwrite boolean true</span><br><span class="line">d-i partman-auto-lvm&#x2F;guided_size string max</span><br><span class="line">d-i partman-partitioning&#x2F;confirm_write_new_label boolean true</span><br><span class="line">d-i grub-installer&#x2F;grub2_instead_of_grub_legacy boolean true</span><br><span class="line">d-i grub-installer&#x2F;only_debian boolean true</span><br><span class="line">d-i grub-installer&#x2F;bootdev string &#x2F;dev&#x2F;[sv]da</span><br><span class="line">d-i pkgsel&#x2F;update-policy select none</span><br><span class="line">d-i pkgsel&#x2F;include string unity ubuntu-desktop openssh-server</span><br><span class="line">tasksel tasksel&#x2F;first multiselect lamp-server, openssh-server</span><br><span class="line">d-i pkgsel&#x2F;include string openssh-server ntp build-essential rsync less vim ethtool curl lsscsi dstat htop strace</span><br><span class="line">d-i finish-install&#x2F;reboot_in_progress note</span><br></pre></td></tr></table></figure><h2 id="制作成-ISO-文件"><a href="#制作成-ISO-文件" class="headerlink" title="制作成 ISO 文件"></a>制作成 ISO 文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;Ubuntu16042</span><br><span class="line">mkisofs -r -V &quot;Ubuntu-Server 16.04.2&quot; -J -l -b isolinux&#x2F;isolinux.bin -c isolinux&#x2F;boot.cat -no-emul -boot-load-size 4 -boot-info-table -o ~&#x2F;ubuntu-16.04.2-server-amd6_0501.iso .</span><br></pre></td></tr></table></figure><h2 id="安装测试"><a href="#安装测试" class="headerlink" title="安装测试"></a>安装测试</h2><p>省略</p><h2 id="参考网站："><a href="#参考网站：" class="headerlink" title="参考网站："></a>参考网站：</h2><p><a href="https://github.com/express42/ubuntu-autoinstaller/blob/master/txt.cfg" target="_blank" rel="external nofollow noopener noreferrer">ubuntu-autoinstaller/txt.cfg at master · express42/ubuntu-autoinstaller · GitHub</a></p><p><a href="https://help.ubuntu.com/community/InstallCDCustomization" target="_blank" rel="external nofollow noopener noreferrer">InstallCDCustomization - Community Help Wiki</a></p><p><a href="https://www.hiroom2.com/2016/05/19/ubuntu-16-04-debian-8-run-pxe-boot-server-for-automated-install/" target="_blank" rel="external nofollow noopener noreferrer">Ubuntu 16.04 / Debian 8: Run PXE boot server for automated install - Narrow Escape</a></p><p><a href="https://help.ubuntu.com/16.04/installation-guide/i386/apbs04.html" target="_blank" rel="external nofollow noopener noreferrer">B.4. Contents of the preconfiguration file (for xenial)</a><br><a href="https://help.ubuntu.com/16.04/installation-guide/example-preseed.txt" target="_blank" rel="external nofollow noopener noreferrer">https://help.ubuntu.com/16.04/installation-guide/example-preseed.txt</a></p><p><a href="https://askubuntu.com/questions/122505/how-do-i-create-a-completely-unattended-install-of-ubuntu" target="_blank" rel="external nofollow noopener noreferrer">system installation - How do I create a completely unattended install of Ubuntu? - Ask Ubuntu</a></p>]]></content>
    
    <summary type="html">
    
      自定义安装 Ubuntu Server
    
    </summary>
    
    
      <category term="linux" scheme="https://www.ling218.cn/categories/linux/"/>
    
    
      <category term="ubuntu" scheme="https://www.ling218.cn/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>专业创建自定义实时 Debian Live CD</title>
    <link href="https://www.ling218.cn/archives/3be04a71.html"/>
    <id>https://www.ling218.cn/archives/3be04a71.html</id>
    <published>2020-04-24T05:55:50.383Z</published>
    <updated>2020-04-24T05:58:18.143Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装创建环境软件"><a href="#安装创建环境软件" class="headerlink" title="安装创建环境软件"></a>安装创建环境软件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># apt install live-build</span><br></pre></td></tr></table></figure><h2 id="加快-DebianLiveCD-创建速度"><a href="#加快-DebianLiveCD-创建速度" class="headerlink" title="加快 DebianLiveCD 创建速度"></a>加快 DebianLiveCD 创建速度</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p &#x2F;etc&#x2F;live</span><br><span class="line"># vim &#x2F;etc&#x2F;live&#x2F;build.conf</span><br><span class="line">LB_MIRROR_BOOTSTRAP&#x3D;&quot;http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F;&quot;</span><br><span class="line">LB_MIRROR_CHROOT_SECURITY&#x3D;&quot;http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F;&quot;</span><br><span class="line">LB_MIRROR_CHROOT_BACKPORTS&#x3D;&quot;http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F;&quot;</span><br></pre></td></tr></table></figure><h2 id="创建-DebianLiveCD"><a href="#创建-DebianLiveCD" class="headerlink" title="创建 DebianLiveCD"></a>创建 DebianLiveCD</h2><p>创建构建的过程如下：</p><ol><li>我们<code>lb config</code> 在空白目录中执行，生成一堆文件，这些文件代表了我们将来的ISO的文件结构。我们将参数传递给 <em>lb config</em>来个性化这些文件的生成。</li><li>我们通过手动修改文件结构来进一步个性化这些文件结构：添加要在ISO生成的不同步骤或ISO引导时执行的脚本，将文件添加到ISO的用户文件夹等。</li><li>我们执行<code>lb build</code>，读取这些文件和脚本并神奇地构建ISO，从而生成预期的 <em>.iso</em>文件。</li></ol><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># mkdir live</span><br><span class="line"># cd live</span><br><span class="line"># cp &#x2F;usr&#x2F;share&#x2F;doc&#x2F;live-build&#x2F;examples&#x2F;auto&#x2F;* auto&#x2F;</span><br><span class="line"># cat auto&#x2F;config</span><br><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line">lb config noauto \</span><br><span class="line">        &quot;$&#123;@&#125;&quot;</span><br></pre></td></tr></table></figure><h3 id="添加个性化配置"><a href="#添加个性化配置" class="headerlink" title="添加个性化配置"></a>添加个性化配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># vim auto&#x2F;config</span><br><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line">lb config noauto \</span><br><span class="line">    --mode debian \</span><br><span class="line">    --architectures i386 \</span><br><span class="line">    --debian-installer false \</span><br><span class="line">    --archive-areas &quot;main contrib non-free&quot; \</span><br><span class="line">    --apt-indices false \</span><br><span class="line">    --memtest none \</span><br><span class="line">    &quot;$&#123;@&#125;&quot;</span><br></pre></td></tr></table></figure><h3 id="为LiveCD安装软件"><a href="#为LiveCD安装软件" class="headerlink" title="为LiveCD安装软件"></a>为LiveCD安装软件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># echo vlc &gt;&gt; config&#x2F;package-lists&#x2F;my.list.chroot</span><br></pre></td></tr></table></figure><h3 id="开始创建"><a href="#开始创建" class="headerlink" title="开始创建"></a>开始创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># lb clean</span><br><span class="line"># lb build</span><br></pre></td></tr></table></figure><h2 id="原文地址"><a href="#原文地址" class="headerlink" title="原文地址"></a>原文地址</h2><ul><li><a href="https://www.bustawin.com/create-a-custom-live-debian-9-the-pro-way/#Speed-up_the_building_optional" target="_blank" rel="external nofollow noopener noreferrer">https://www.bustawin.com/create-a-custom-live-debian-9-the-pro-way/#Speed-up_the_building_optional</a></li><li><a href="https://github.com/ereuse/workbench-live" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/ereuse/workbench-live</a></li></ul>]]></content>
    
    <summary type="html">
    
      创建 LiveCD
    
    </summary>
    
    
      <category term="live-build" scheme="https://www.ling218.cn/categories/live-build/"/>
    
    
      <category term="live-build" scheme="https://www.ling218.cn/tags/live-build/"/>
    
  </entry>
  
</feed>
